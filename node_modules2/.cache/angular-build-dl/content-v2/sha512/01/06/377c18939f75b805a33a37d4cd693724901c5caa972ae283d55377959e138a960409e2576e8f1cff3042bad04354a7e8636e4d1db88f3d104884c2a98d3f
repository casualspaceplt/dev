(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{BFx4:function(t,e,n){"use strict";n.r(e),n.d(e,"ReviewUserListPageModule",function(){return j});var i=n("ofXK"),o=n("3Pt+"),r=n("tyNb"),a=n("TEn/"),s=n("mrSG"),c=n("NV1z"),l=n("XNiG"),b=n("VRyK"),d=n("dexi"),h=n("R0Ic"),g=n("fXoL"),p=n("nFsf"),u=n("4ro/"),f=n("xJkR"),m=n("oZYh"),w=n("Qsw1"),v=n("sYmb");function V(t,e){1&t&&(g.Qb(0,"empty-view",15),g.gc(1,"translate")),2&t&&g.lc("text",g.hc(1,1,"ERROR_REVIEWS"))}function x(t,e){1&t&&(g.Qb(0,"empty-view",16),g.gc(1,"translate")),2&t&&g.lc("text",g.hc(1,1,"EMPTY_REVIEWS"))}const O=function(){return{width:"80px",height:"80px"}},E=function(){return{width:"30%","border-radius":"0",height:"15px","margin-bottom":"10px"}},y=function(){return{width:"70%","border-radius":"0",height:"15px"}};function U(t,e){1&t&&(g.Vb(0,"div",18),g.Vb(1,"div",19),g.Vb(2,"div",20),g.Qb(3,"ngx-skeleton-loader",21),g.Ub(),g.Vb(4,"div",22),g.Vb(5,"div"),g.Qb(6,"ngx-skeleton-loader",23),g.Ub(),g.Vb(7,"div"),g.Qb(8,"ngx-skeleton-loader",23),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&t&&(g.Db(3),g.lc("theme",g.oc(3,O)),g.Db(3),g.lc("theme",g.oc(4,E)),g.Db(2),g.lc("theme",g.oc(5,y)))}function R(t,e){if(1&t&&(g.Vb(0,"section"),g.Ec(1,U,9,6,"div",17),g.Ub()),2&t){const t=g.fc();g.Db(1),g.lc("ngForOf",t.skeletonReviews)}}const C=function(t){return[t]};function D(t,e){if(1&t&&(g.Vb(0,"div",26),g.Vb(1,"ion-item",27),g.Vb(2,"ion-thumbnail",2),g.Qb(3,"img",28),g.Ub(),g.Vb(4,"ion-label",29),g.Vb(5,"ion-text",30),g.Vb(6,"span",31),g.Gc(7),g.gc(8,"date"),g.Ub(),g.Ub(),g.Vb(9,"h3",32),g.Gc(10),g.Ub(),g.Qb(11,"bar-rating",33),g.Vb(12,"ion-text",34),g.Vb(13,"p",35),g.Gc(14),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&t){const t=e.$implicit;g.Db(1),g.lc("routerLink",g.pc(13,C,"../places/"+t.place.id)),g.Db(2),g.lc("alt",null==t.place?null:t.place.title)("src",null==t.place||null==t.place.imageThumb?null:t.place.imageThumb.url(),g.zc),g.Db(4),g.Ic(" ",g.ic(8,10,t.createdAt,"mediumDate")," "),g.Db(3),g.Hc(null==t.place?null:t.place.title),g.Db(1),g.lc("rate",t.rating)("readOnly",!0)("max",5)("theme","stars"),g.Db(3),g.Hc(t.comment)}}function I(t,e){if(1&t&&(g.Vb(0,"ion-list",24),g.Ec(1,D,15,15,"div",25),g.Ub()),2&t){const t=g.fc();g.lc("@staggerIn",t.reviews.length),g.Db(1),g.lc("ngForOf",t.reviews)}}function M(t,e){if(1&t){const t=g.Wb();g.Vb(0,"ion-infinite-scroll",36),g.dc("ionInfinite",function(e){return g.vc(t),g.fc().onLoadMore(e)}),g.Qb(1,"ion-infinite-scroll-content"),g.Ub()}}let k=(()=>{class t extends c.a{constructor(t,e){super(t),this.reviewService=e,this.reviews=[],this.params={}}enableMenuSwipe(){return!1}ngOnInit(){return Object(s.a)(this,void 0,void 0,function*(){this.params=Object.assign({},this.getParams()),this.params.limit=20,this.params.page=0,this.params.user=d.a.getCurrent(),this.skeletonReviews=Array(10),this.setupObservable();const t=yield this.getTrans("MY_REVIEWS");this.setPageTitle(t),this.setMetaTags({title:t})})}setupObservable(){this.contentLoaded=new l.a,this.loadAndScroll=Object(b.a)(this.container.ionScroll,this.contentLoaded)}onContentLoaded(){setTimeout(()=>{this.contentLoaded.next()},400)}ionViewDidEnter(){return Object(s.a)(this,void 0,void 0,function*(){this.reviews.length||(yield this.showLoadingView({showOverlay:!1}),this.loadData())})}loadData(){return Object(s.a)(this,void 0,void 0,function*(){try{const t=yield this.reviewService.load(this.params);for(let e of t)this.reviews.push(e);this.reviews.length?this.showContentView():this.showEmptyView(),this.onContentLoaded(),this.onRefreshComplete(t)}catch(t){this.showContentView(),this.onRefreshComplete();let e=yield this.getTrans("ERROR_NETWORK");this.showToast(e)}})}onLoadMore(t={}){this.infiniteScroll=t.target,this.params.page++,this.loadData()}onReload(t={}){this.refresher=t.target,this.reviews=[],this.params.page=0,this.loadData()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(g.t),g.Pb(p.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-review-user-list"]],viewQuery:function(t,e){if(1&t&&g.Kc(a.r,3),2&t){let t;g.tc(t=g.ec())&&(e.container=t.first)}},features:[g.Ab],decls:21,vars:14,consts:[[1,"ion-no-border"],["color","primary","fixed",""],["slot","start"],["scrollEvents","true",1,"ion-padding"],["container",""],["slot","fixed",3,"ionRefresh"],[3,"pullingText","refreshingText"],["icon","alert-circle-outline",3,"text",4,"ngIf"],["icon","star",3,"text",4,"ngIf"],["fixed",""],[1,"ion-justify-content-center"],["size-xs","12","size-lg","8"],[4,"ngIf"],["lines","none",4,"ngIf"],[3,"ionInfinite",4,"ngIf"],["icon","alert-circle-outline",3,"text"],["icon","star",3,"text"],["class","skeleton-item light-bg radius",4,"ngFor","ngForOf"],[1,"skeleton-item","light-bg","radius"],[1,"wrapper"],[1,"avatar"],["appearance","circle",3,"theme"],[1,"title"],[3,"theme"],["lines","none"],["class","radius light-bg border ion-margin-bottom",4,"ngFor","ngForOf"],[1,"radius","light-bg","border","ion-margin-bottom"],["color","light","detail","false",3,"routerLink"],["src-fallback","./assets/img/placeholder.png",3,"alt","src"],[1,"ion-text-wrap"],["color","medium","float-end",""],[1,"text-small"],[1,"bold"],[1,"rating",3,"rate","readOnly","max","theme"],["color","dark"],[1,"text-medium"],[3,"ionInfinite"]],template:function(t,e){1&t&&(g.Vb(0,"ion-header",0),g.Vb(1,"ion-toolbar",1),g.Vb(2,"ion-buttons",2),g.Qb(3,"ion-back-button"),g.Ub(),g.Vb(4,"ion-title"),g.Gc(5),g.gc(6,"translate"),g.Ub(),g.Ub(),g.Ub(),g.Vb(7,"ion-content",3,4),g.Vb(9,"ion-refresher",5),g.dc("ionRefresh",function(t){return e.onReload(t)}),g.Qb(10,"ion-refresher-content",6),g.gc(11,"translate"),g.gc(12,"translate"),g.Ub(),g.Ec(13,V,2,3,"empty-view",7),g.Ec(14,x,2,3,"empty-view",8),g.Vb(15,"ion-grid",9),g.Vb(16,"ion-row",10),g.Vb(17,"ion-col",11),g.Ec(18,R,2,1,"section",12),g.Ec(19,I,2,2,"ion-list",13),g.Ub(),g.Ub(),g.Ub(),g.Ec(20,M,2,0,"ion-infinite-scroll",14),g.Ub()),2&t&&(g.Db(5),g.Ic(" ",g.hc(6,8,"MY_REVIEWS")," "),g.Db(5),g.mc("pullingText",g.hc(11,10,"PULL_TO_REFRESH")),g.mc("refreshingText",g.hc(12,12,"REFRESHING")),g.Db(3),g.lc("ngIf",e.isErrorViewVisible),g.Db(1),g.lc("ngIf",e.isEmptyViewVisible),g.Db(4),g.lc("ngIf",e.isLoadingViewVisible),g.Db(1),g.lc("ngIf",e.isContentViewVisible),g.Db(1),g.lc("ngIf",e.isContentViewVisible))},directives:[a.w,a.db,a.l,a.h,a.i,a.bb,a.r,a.K,a.L,i.m,a.v,a.O,a.q,u.a,i.l,f.a,a.F,a.B,a.lb,r.i,a.ab,m.a,a.E,a.Y,w.a,a.y,a.z],pipes:[v.c,i.f],styles:["ion-avatar[_ngcontent-%COMP%]{margin:0 12px 0 0!important}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:var(--ion-color-dark)}ul[_ngcontent-%COMP%]{margin:4px 0;padding:0}ul.rating[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0!important;background:none;color:var(--ion-color-primary)}.skeleton-item[_ngcontent-%COMP%]{width:auto;height:auto;margin:10px auto;padding:10px}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:inline-flex;width:100%;height:auto;flex:1}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:100px;height:90px}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;padding:10px;height:80px}"],data:{animation:[Object(h.l)("staggerIn",[Object(h.k)("* => *",[Object(h.f)(":enter",Object(h.j)({opacity:0,transform:"translate3d(0,10px,0)"}),{optional:!0}),Object(h.f)(":enter",Object(h.h)("100ms",[Object(h.e)("300ms",Object(h.j)({opacity:1,transform:"translate3d(0,0,0)"}))]),{optional:!0})])])]}}),t})();var P=n("d2mR");const _=[{path:"",component:k}];let j=(()=>{class t{}return t.\u0275mod=g.Nb({type:t}),t.\u0275inj=g.Mb({factory:function(e){return new(e||t)},imports:[[i.c,o.e,a.eb,P.a,r.j.forChild(_)]]}),t})()}}]);