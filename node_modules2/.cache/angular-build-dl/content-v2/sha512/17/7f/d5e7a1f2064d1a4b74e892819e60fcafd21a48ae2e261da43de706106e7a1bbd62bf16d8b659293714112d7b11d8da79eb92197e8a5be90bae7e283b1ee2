(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{xkNw:function(t,e,i){"use strict";i.r(e),i.d(e,"PostListPageModule",function(){return D});var n=i("tyNb"),o=i("mrSG"),s=i("TEn/"),r=i("NV1z"),c=i("XNiG"),a=i("VRyK"),l=i("R0Ic"),b=i("fXoL"),h=i("MvqN"),d=i("ofXK"),f=i("4ro/"),p=i("xJkR"),u=i("wf0l"),g=i("sYmb");function m(t,e){1&t&&(b.Qb(0,"empty-view",12),b.gc(1,"translate")),2&t&&b.lc("text",b.hc(1,1,"ERROR_NETWORK"))}function w(t,e){1&t&&(b.Qb(0,"empty-view",12),b.gc(1,"translate")),2&t&&b.lc("text",b.hc(1,1,"EMPTY_POSTS"))}const V=function(){return{width:"100%",height:"200px","border-radius":"0"}};function O(t,e){1&t&&(b.Vb(0,"ion-col",13),b.Qb(1,"ngx-skeleton-loader",14),b.Ub()),2&t&&(b.Db(1),b.lc("theme",b.oc(1,V)))}function v(t,e){if(1&t&&(b.Vb(0,"ion-row"),b.Ec(1,O,2,2,"ion-col",10),b.Ub()),2&t){const t=b.fc();b.Db(1),b.lc("ngForOf",t.skeletonArray)}}const y=function(t){return[t]};function x(t,e){if(1&t&&(b.Vb(0,"ion-col",13),b.Vb(1,"ion-card",15),b.Qb(2,"div",16),b.Vb(3,"ion-card-content"),b.Vb(4,"div",17),b.Vb(5,"h3",18),b.Gc(6),b.Ub(),b.Ub(),b.Vb(7,"div",19),b.Vb(8,"ion-text",20),b.Vb(9,"p"),b.Gc(10),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub()),2&t){const t=e.$implicit,i=b.fc();b.Db(1),b.lc("routerLink",b.pc(5,y,"./"+t.id+"/"+t.slug)),b.Db(1),b.lc("lazyLoad",null==t.image?null:t.image.url())("customObservable",i.loadAndScroll),b.Db(4),b.Hc(t.title),b.Db(4),b.Hc(t.body)}}function E(t,e){if(1&t){const t=b.Wb();b.Vb(0,"ion-infinite-scroll",21),b.dc("ionInfinite",function(e){return b.vc(t),b.fc().onLoadMore(e)}),b.Qb(1,"ion-infinite-scroll-content"),b.Ub()}}let R=(()=>{class t extends r.a{constructor(t,e){super(t),this.postService=e,this.params={},this.posts=[],this.skeletonArray=Array(12),this.params.limit=20,this.params.page=0}enableMenuSwipe(){return!1}ngOnInit(){this.setupObservables()}setupObservables(){this.contentLoaded=new c.a,this.loadAndScroll=Object(a.a)(this.container.ionScroll,this.contentLoaded)}onContentLoaded(){setTimeout(()=>{this.contentLoaded.next()},300)}ionViewWillEnter(){this.container&&this.container.scrollToTop()}ionViewDidEnter(){return Object(o.a)(this,void 0,void 0,function*(){this.posts.length||(yield this.showLoadingView({showOverlay:!1}),this.loadData());const t=yield this.getTrans("POSTS");this.setPageTitle(t),this.setMetaTags({title:t})})}loadData(){return Object(o.a)(this,void 0,void 0,function*(){try{const t=yield this.postService.load(this.params);for(let e of t)this.posts.push(e);this.posts.length?this.showContentView():this.showEmptyView(),this.onContentLoaded(),this.onRefreshComplete(t)}catch(t){this.translate.get("ERROR_NETWORK").subscribe(t=>this.showToast(t)),this.showContentView(),this.onRefreshComplete()}})}onReload(t={}){this.refresher=t.target,this.posts=[],this.params.page=0,this.loadData()}onLoadMore(t={}){this.infiniteScroll=t.target,this.params.page++,this.loadData()}}return t.\u0275fac=function(e){return new(e||t)(b.Pb(b.t),b.Pb(h.a))},t.\u0275cmp=b.Jb({type:t,selectors:[["post-list-page"]],viewQuery:function(t,e){if(1&t&&b.Kc(s.r,3),2&t){let t;b.tc(t=b.ec())&&(e.container=t.first)}},features:[b.Ab],decls:20,vars:15,consts:[[1,"ion-no-border"],["color","primary","fixed",""],["slot","start"],["scrollEvents","true",1,"ion-padding"],["container",""],["slot","fixed",3,"ionRefresh"],[3,"pullingText","refreshingText"],["icon","alert-circle-outline",3,"text",4,"ngIf"],["fixed",""],[4,"ngIf"],["size-xs","12","size-sm","6","size-md","6","size-lg","4",4,"ngFor","ngForOf"],[3,"ionInfinite",4,"ngIf"],["icon","alert-circle-outline",3,"text"],["size-xs","12","size-sm","6","size-md","6","size-lg","4"],["count","1","appearance","circle",3,"theme"],["button","","color","white",1,"shadow","ion-no-margin","ion-margin-bottom",3,"routerLink"],["defaultImage","./assets/img/placeholder.png",1,"bg-img",3,"lazyLoad","customObservable"],[1,"ion-text-nowrap"],[1,"bold"],[1,"multi-ellipsis"],["color","medium"],[3,"ionInfinite"]],template:function(t,e){1&t&&(b.Vb(0,"ion-header",0),b.Vb(1,"ion-toolbar",1),b.Vb(2,"ion-buttons",2),b.Qb(3,"ion-back-button"),b.Ub(),b.Vb(4,"ion-title"),b.Gc(5),b.gc(6,"translate"),b.Ub(),b.Ub(),b.Ub(),b.Vb(7,"ion-content",3,4),b.Vb(9,"ion-refresher",5),b.dc("ionRefresh",function(t){return e.onReload(t)}),b.Qb(10,"ion-refresher-content",6),b.gc(11,"translate"),b.gc(12,"translate"),b.Ub(),b.Ec(13,m,2,3,"empty-view",7),b.Ec(14,w,2,3,"empty-view",7),b.Vb(15,"ion-grid",8),b.Ec(16,v,2,1,"ion-row",9),b.Vb(17,"ion-row"),b.Ec(18,x,11,7,"ion-col",10),b.Ub(),b.Ec(19,E,2,0,"ion-infinite-scroll",11),b.Ub(),b.Ub()),2&t&&(b.Db(5),b.Hc(b.hc(6,9,"POSTS")),b.Db(5),b.mc("pullingText",b.hc(11,11,"PULL_TO_REFRESH")),b.mc("refreshingText",b.hc(12,13,"REFRESHING")),b.Db(3),b.lc("ngIf",e.isErrorViewVisible),b.Db(1),b.lc("ngIf",e.isEmptyViewVisible),b.Db(2),b.lc("ngIf",e.isLoadingViewVisible),b.Db(1),b.lc("@staggerIn",e.posts.length),b.Db(1),b.lc("ngForOf",e.posts),b.Db(1),b.lc("ngIf",e.isContentViewVisible))},directives:[s.w,s.db,s.l,s.h,s.i,s.bb,s.r,s.K,s.L,d.m,s.v,s.O,d.l,f.a,s.q,p.a,s.m,s.lb,n.i,u.b,s.n,s.Y,s.y,s.z],pipes:[g.c],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-light-tint)}.bg-img[_ngcontent-%COMP%]{background-size:cover;background-position:50%;width:100%;height:200px}"],data:{animation:[Object(l.l)("staggerIn",[Object(l.k)("* => *",[Object(l.f)(":enter",Object(l.j)({opacity:0,transform:"translate3d(0,10px,0)"}),{optional:!0}),Object(l.f)(":enter",Object(l.h)("100ms",[Object(l.e)("300ms",Object(l.j)({opacity:1,transform:"translate3d(0,0,0)"}))]),{optional:!0})])])]}}),t})();var U=i("d2mR");let D=(()=>{class t{}return t.\u0275mod=b.Nb({type:t}),t.\u0275inj=b.Mb({factory:function(e){return new(e||t)},imports:[[U.a,n.j.forChild([{path:"",component:R}])]]}),t})()}}]);