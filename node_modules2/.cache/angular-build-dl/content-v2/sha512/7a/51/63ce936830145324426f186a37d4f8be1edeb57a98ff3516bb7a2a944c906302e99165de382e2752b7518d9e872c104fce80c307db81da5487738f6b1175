!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&r(e,n)}function r(e,n){return(r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function o(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var t,i=c(e);if(n){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return a(this,t)}}function a(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{"723k":function(n,r,a){"use strict";a.r(r),a.d(r,"ProfilePageModule",function(){return X});var c=a("tyNb"),s=a("mrSG"),b=a("dexi"),u=a("NV1z"),l=a("3Pt+"),d=a("fXoL"),h=a("TEn/"),p=a("ofXK"),g=a("alup"),f=a("sYmb");function m(e,n){1&e&&(d.Vb(0,"div"),d.Vb(1,"ion-label",8),d.Vb(2,"span"),d.Gc(3),d.gc(4,"translate"),d.Ub(),d.Ub(),d.Vb(5,"ion-item",9),d.Qb(6,"ion-input",17),d.Ub(),d.Ub()),2&e&&(d.Db(3),d.Hc(d.hc(4,1,"USERNAME")))}function v(e,n){1&e&&d.Qb(0,"ion-spinner")}function w(e,n){1&e&&(d.Vb(0,"span"),d.Gc(1),d.gc(2,"translate"),d.Ub()),2&e&&(d.Db(1),d.Hc(d.hc(2,1,"SUBMIT")))}var V,U=((V=function(n){i(a,n);var r=o(a);function a(n){var t;return e(this,a),(t=r.call(this,n)).user=b.a.getCurrent(),t}return t(a,[{key:"enableMenuSwipe",value:function(){return!0}},{key:"ngOnInit",value:function(){this.setupForm()}},{key:"onFileUploaded",value:function(e){this.photo=e}},{key:"setupForm",value:function(){var e={name:new l.a(this.user.name,l.o.required),email:new l.a(this.user.email)};this.user.authData||(e.username=new l.a(this.user.username,l.o.required)),this.form=new l.c(e)}},{key:"onDismiss",value:function(){this.modalCtrl.dismiss()}},{key:"onSubmit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,t,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.form.invalid){e.next=3;break}return e.abrupt("return",this.translate.get("INVALID_FORM").subscribe(function(e){return i.showToast(e)}));case 3:return this.showLoadingView({showOverlay:!1}),n=Object.assign({},this.form.value),this.photo&&(n.photo=this.photo),n.email||delete n.email,t=b.a.getCurrent(),e.next=9,t.save(n);case 9:this.showContentView(),this.translate.get("SAVED").subscribe(function(e){return i.showToast(e)}),this.onDismiss(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),202===e.t0.code?this.translate.get("USERNAME_TAKEN").subscribe(function(e){return i.showToast(e)}):203===e.t0.code?this.translate.get("EMAIL_TAKEN").subscribe(function(e){return i.showToast(e)}):125===e.t0.code?this.translate.get("EMAIL_INVALID").subscribe(function(e){return i.showToast(e)}):this.translate.get("ERROR_NETWORK").subscribe(function(e){return i.showToast(e)}),this.showContentView();case 17:case"end":return e.stop()}},e,this,[[0,14]])}))}}]),a}(u.a)).\u0275fac=function(e){return new(e||V)(d.Pb(d.t))},V.\u0275cmp=d.Jb({type:V,selectors:[["page-profile-edit"]],features:[d.Ab],decls:34,vars:17,consts:[[1,"ion-no-border"],["color","primary"],["slot","end"],["fill","clear",3,"click"],["slot","start","name","close"],[1,"ion-padding"],["novalidate","",3,"formGroup","ngSubmit"],["profileForm","ngForm"],["position","stacked","color","medium"],["lines","none","color","light",1,"ion-margin-vertical"],["type","text","formControlName","name"],[4,"ngIf"],["type","email","formControlName","email",3,"keyup.enter"],[1,"ion-margin-top"],[3,"onFileUploaded"],[1,"ion-text-center"],["type","submit","strong","","shape","round","color","primary",3,"disabled"],["type","text","formControlName","username"]],template:function(e,n){if(1&e){var t=d.Wb();d.Vb(0,"ion-header",0),d.Vb(1,"ion-toolbar",1),d.Vb(2,"ion-buttons",2),d.Vb(3,"ion-button",3),d.dc("click",function(){return n.onDismiss()}),d.Qb(4,"ion-icon",4),d.Ub(),d.Ub(),d.Vb(5,"ion-title"),d.Gc(6),d.gc(7,"translate"),d.Ub(),d.Ub(),d.Ub(),d.Vb(8,"ion-content",5),d.Vb(9,"form",6,7),d.dc("ngSubmit",function(){return n.onSubmit()}),d.Vb(11,"ion-label",8),d.Vb(12,"span"),d.Gc(13),d.gc(14,"translate"),d.Ub(),d.Ub(),d.Vb(15,"ion-item",9),d.Qb(16,"ion-input",10),d.Ub(),d.Ec(17,m,7,3,"div",11),d.Vb(18,"ion-label",8),d.Vb(19,"span"),d.Gc(20),d.gc(21,"translate"),d.Ub(),d.Ub(),d.Vb(22,"ion-item",9),d.Vb(23,"ion-input",12),d.dc("keyup.enter",function(){return d.vc(t),d.uc(10).ngSubmit.emit()}),d.Ub(),d.Ub(),d.Vb(24,"ion-label",8),d.Vb(25,"span"),d.Gc(26),d.gc(27,"translate"),d.Ub(),d.Ub(),d.Vb(28,"div",13),d.Vb(29,"app-upload-box",14),d.dc("onFileUploaded",function(e){return n.onFileUploaded(e)}),d.Ub(),d.Ub(),d.Vb(30,"div",15),d.Vb(31,"ion-button",16),d.Ec(32,v,1,0,"ion-spinner",11),d.Ec(33,w,3,3,"span",11),d.Ub(),d.Ub(),d.Ub(),d.Ub()}2&e&&(d.Db(6),d.Hc(d.hc(7,9,"EDIT_PROFILE")),d.Db(3),d.lc("formGroup",n.form),d.Db(4),d.Hc(d.hc(14,11,"NAME")),d.Db(4),d.lc("ngIf",!(null!=n.user&&n.user.authData)),d.Db(3),d.Hc(d.hc(21,13,"EMAIL")),d.Db(6),d.Hc(d.hc(27,15,"UPLOAD_PICTURE")),d.Db(5),d.lc("disabled",n.isLoadingViewVisible),d.Db(1),d.lc("ngIf",n.isLoadingViewVisible),d.Db(1),d.lc("ngIf",!n.isLoadingViewVisible))},directives:[h.w,h.db,h.l,h.k,h.x,h.bb,h.r,l.q,l.j,l.d,h.E,h.B,h.A,h.nb,l.i,l.b,p.m,g.a,h.U],pipes:[f.c],styles:["ion-item[_ngcontent-%COMP%]{--border-radius:4px}"]}),V);function y(e,n){1&e&&d.Qb(0,"ion-spinner")}function k(e,n){1&e&&(d.Vb(0,"span"),d.Gc(1),d.gc(2,"translate"),d.Ub()),2&e&&(d.Db(1),d.Hc(d.hc(2,1,"SUBMIT")))}var x,O=((x=function(n){i(a,n);var r=o(a);function a(n,t){var i;return e(this,a),(i=r.call(this,n)).userService=t,i.form=new l.c({oldPassword:new l.a("",[l.o.required,l.o.minLength(6)]),password:new l.a("",[l.o.required,l.o.minLength(6)]),confirmPassword:new l.a("",[l.o.required,l.o.minLength(6)])}),i}return t(a,[{key:"enableMenuSwipe",value:function(){return!1}},{key:"onDismiss",value:function(){this.modalCtrl.dismiss()}},{key:"onSubmit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,t,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.form.value,!this.form.invalid){e.next=3;break}return e.abrupt("return",this.translate.get("INVALID_FORM").subscribe(function(e){return i.showToast(e)}));case 3:if(n.password===n.confirmPassword){e.next=5;break}return e.abrupt("return",this.translate.get("PASSWORD_DOES_NOT_MATCH").subscribe(function(e){return i.showToast(e)}));case 5:return e.prev=5,e.next=8,this.showLoadingView({showOverlay:!1});case 8:return this.user=b.a.getCurrent(),t={username:this.user.username,password:n.oldPassword},e.next=12,this.userService.signIn(t);case 12:return this.user.password=n.password,e.next=15,this.user.save();case 15:this.translate.get("SAVED").subscribe(function(e){return i.showToast(e)}),this.showContentView(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),this.showContentView(),101===e.t0.code?this.translate.get("PASSWORD_INVALID").subscribe(function(e){return i.showToast(e)}):this.translate.get("ERROR_NETWORK").subscribe(function(e){return i.showToast(e)});case 22:case"end":return e.stop()}},e,this,[[5,19]])}))}}]),a}(u.a)).\u0275fac=function(e){return new(e||x)(d.Pb(d.t),d.Pb(b.a))},x.\u0275cmp=d.Jb({type:x,selectors:[["page-change-password"]],features:[d.Ab],decls:38,vars:19,consts:[[1,"ion-no-border"],["color","primary",1,"transparent"],["slot","end"],[3,"click"],["slot","icon-only","name","close"],[1,"ion-padding"],["novalidate","",3,"formGroup","ngSubmit"],["myForm","ngForm"],["position","stacked","color","medium"],["lines","none","color","light",1,"ion-margin-vertical"],["type","password","formControlName","oldPassword"],["type","password","formControlName","password"],["color","dark"],[1,"bold"],["type","password","formControlName","confirmPassword",3,"keyup.enter"],[1,"ion-text-center"],["type","submit","strong","","shape","round","color","primary",3,"disabled"],[4,"ngIf"]],template:function(e,n){if(1&e){var t=d.Wb();d.Vb(0,"ion-header",0),d.Vb(1,"ion-toolbar",1),d.Vb(2,"ion-buttons",2),d.Vb(3,"ion-button",3),d.dc("click",function(){return n.onDismiss()}),d.Qb(4,"ion-icon",4),d.Ub(),d.Ub(),d.Vb(5,"ion-title"),d.Gc(6),d.gc(7,"translate"),d.Ub(),d.Ub(),d.Ub(),d.Vb(8,"ion-content",5),d.Vb(9,"form",6,7),d.dc("ngSubmit",function(){return n.onSubmit()}),d.Vb(11,"ion-label",8),d.Vb(12,"span"),d.Gc(13),d.gc(14,"translate"),d.Ub(),d.Ub(),d.Vb(15,"ion-item",9),d.Qb(16,"ion-input",10),d.Ub(),d.Vb(17,"ion-label",8),d.Vb(18,"span"),d.Gc(19),d.gc(20,"translate"),d.Ub(),d.Ub(),d.Vb(21,"ion-item",9),d.Qb(22,"ion-input",11),d.Ub(),d.Vb(23,"ion-text",12),d.Vb(24,"p",13),d.Vb(25,"small"),d.Gc(26),d.gc(27,"translate"),d.Ub(),d.Ub(),d.Ub(),d.Vb(28,"ion-label",8),d.Vb(29,"span"),d.Gc(30),d.gc(31,"translate"),d.Ub(),d.Ub(),d.Vb(32,"ion-item",9),d.Vb(33,"ion-input",14),d.dc("keyup.enter",function(){return d.vc(t),d.uc(10).ngSubmit.emit()}),d.Ub(),d.Ub(),d.Vb(34,"div",15),d.Vb(35,"ion-button",16),d.Ec(36,y,1,0,"ion-spinner",17),d.Ec(37,k,3,3,"span",17),d.Ub(),d.Ub(),d.Ub(),d.Ub()}2&e&&(d.Db(6),d.Hc(d.hc(7,9,"CHANGE_PASSWORD")),d.Db(3),d.lc("formGroup",n.form),d.Db(4),d.Hc(d.hc(14,11,"CURRENT_PASSWORD")),d.Db(6),d.Hc(d.hc(20,13,"NEW_PASSWORD")),d.Db(7),d.Ic(" ",d.hc(27,15,"PASSWORD_VALIDATION_HELP")," "),d.Db(4),d.Hc(d.hc(31,17,"CONFIRM_PASSWORD")),d.Db(5),d.lc("disabled",n.isLoadingViewVisible),d.Db(1),d.lc("ngIf",n.isLoadingViewVisible),d.Db(1),d.lc("ngIf",!n.isLoadingViewVisible))},directives:[h.w,h.db,h.l,h.k,h.x,h.bb,h.r,l.q,l.j,l.d,h.E,h.B,h.A,h.nb,l.i,l.b,h.Y,p.m,h.U],pipes:[f.c],styles:["ion-item[_ngcontent-%COMP%]{--border-radius:4px}"]}),x),P=a("GvuD"),C=a("DNiy"),D=a("fgjG"),S=a("eAEk");function E(e,n){if(1&e){var t=d.Wb();d.Vb(0,"ion-item",19),d.Vb(1,"ion-label",10),d.Gc(2),d.gc(3,"translate"),d.Ub(),d.Vb(4,"ion-toggle",20),d.dc("ionChange",function(e){return d.vc(t),d.fc().onChangeIsPushEnabled(e)})("ngModelChange",function(e){return d.vc(t),d.fc().preference.isPushEnabled=e}),d.Ub(),d.Ub()}if(2&e){var i=d.fc();d.Db(2),d.Hc(d.hc(3,2,"PUSH_NOTIFICATIONS")),d.Db(2),d.lc("ngModel",i.preference.isPushEnabled)}}var I,M=((I=function(n){i(a,n);var r=o(a);function a(n,t,i){var o;return e(this,a),(o=r.call(this,n)).installationService=t,o.storage=i,o}return t(a,[{key:"enableMenuSwipe",value:function(){return!0}},{key:"onDismiss",value:function(){this.modalCtrl.dismiss()}},{key:"onChangeIsPushEnabled",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return t=e.detail.checked,n.prev=3,n.next=6,this.installationService.getId();case 6:return i=n.sent,n.next=9,this.installationService.save(i,{isPushEnabled:t});case 9:this.storage.setIsPushEnabled(t),this.preference.isPushEnabled=t,n.next=16;break;case 13:n.prev=13,n.t0=n.catch(3),console.warn(n.t0);case 16:case"end":return n.stop()}},n,this,[[3,13]])}))}},{key:"onChangeUnit",value:function(e){if(e){var n=e.detail.value;this.storage.setUnit(n),this.preference.unit=n}}},{key:"onChangeLang",value:function(e){e&&window.dispatchEvent(new CustomEvent("lang:change",{detail:e.detail.value}))}},{key:"presentWalkthroughModal",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.showLoadingView({showOverlay:!0});case 2:return e.next=4,this.modalCtrl.create({component:C.a});case 4:return n=e.sent,e.next=7,n.present();case 7:this.dismissLoadingView();case 8:case"end":return e.stop()}},e,this)}))}}]),a}(u.a)).\u0275fac=function(e){return new(e||I)(d.Pb(d.t),d.Pb(D.a),d.Pb(S.a))},I.\u0275cmp=d.Jb({type:I,selectors:[["page-settings"]],features:[d.Ab],decls:51,vars:24,consts:[[1,"ion-no-border"],["color","primary"],["slot","end"],["fill","clear",3,"click"],["slot","start","name","close"],["no-lines",""],["color","light","lines","none","margin-vertical","",4,"ngIf"],["allowEmptySelection","false",3,"value","ionChange"],["ion-text","",1,"bold"],["color","light"],[1,"text-medium","bold"],["value","mi"],["value","km"],[1,"bold"],["value","en"],["value","es"],["value","ar"],[1,"ion-text-center"],["strong","","shape","round","color","primary",3,"click"],["color","light","lines","none","margin-vertical",""],[3,"ngModel","ionChange","ngModelChange"]],template:function(e,n){1&e&&(d.Vb(0,"ion-header",0),d.Vb(1,"ion-toolbar",1),d.Vb(2,"ion-buttons",2),d.Vb(3,"ion-button",3),d.dc("click",function(){return n.onDismiss()}),d.Qb(4,"ion-icon",4),d.Ub(),d.Ub(),d.Vb(5,"ion-title"),d.Gc(6),d.gc(7,"translate"),d.Ub(),d.Ub(),d.Ub(),d.Vb(8,"ion-content"),d.Vb(9,"ion-list",5),d.Ec(10,E,5,4,"ion-item",6),d.Vb(11,"ion-radio-group",7),d.dc("ionChange",function(e){return n.onChangeUnit(e)}),d.Vb(12,"ion-list-header"),d.Vb(13,"ion-text",1),d.Vb(14,"p",8),d.Gc(15),d.gc(16,"translate"),d.Ub(),d.Ub(),d.Ub(),d.Vb(17,"ion-item",9),d.Vb(18,"ion-label",10),d.Gc(19,"Mi"),d.Ub(),d.Qb(20,"ion-radio",11),d.Ub(),d.Vb(21,"ion-item",9),d.Vb(22,"ion-label",10),d.Gc(23,"Km"),d.Ub(),d.Qb(24,"ion-radio",12),d.Ub(),d.Ub(),d.Ub(),d.Vb(25,"ion-list"),d.Vb(26,"ion-radio-group",7),d.dc("ionChange",function(e){return n.onChangeLang(e)}),d.Vb(27,"ion-list-header"),d.Vb(28,"ion-text",1),d.Vb(29,"p",13),d.Gc(30),d.gc(31,"translate"),d.Ub(),d.Ub(),d.Ub(),d.Vb(32,"ion-item",9),d.Vb(33,"ion-label",10),d.Gc(34),d.gc(35,"translate"),d.Ub(),d.Qb(36,"ion-radio",14),d.Ub(),d.Vb(37,"ion-item",9),d.Vb(38,"ion-label",10),d.Gc(39),d.gc(40,"translate"),d.Ub(),d.Qb(41,"ion-radio",15),d.Ub(),d.Vb(42,"ion-item",9),d.Vb(43,"ion-label",10),d.Gc(44),d.gc(45,"translate"),d.Ub(),d.Qb(46,"ion-radio",16),d.Ub(),d.Ub(),d.Ub(),d.Vb(47,"div",17),d.Vb(48,"ion-button",18),d.dc("click",function(){return n.presentWalkthroughModal()}),d.Gc(49),d.gc(50,"translate"),d.Ub(),d.Ub(),d.Ub()),2&e&&(d.Db(6),d.Hc(d.hc(7,10,"SETTINGS")),d.Db(4),d.lc("ngIf",n.isCordova),d.Db(1),d.lc("value",n.preference.unit),d.Db(4),d.Ic(" ",d.hc(16,12,"DISTANCE_UNIT")," "),d.Db(11),d.lc("value",n.preference.lang),d.Db(4),d.Hc(d.hc(31,14,"LANGUAGE")),d.Db(4),d.Hc(d.hc(35,16,"ENGLISH")),d.Db(5),d.Hc(d.hc(40,18,"SPANISH")),d.Db(5),d.Hc(d.hc(45,20,"ARABIC")),d.Db(5),d.Ic(" ",d.hc(50,22,"OPEN_WALKTHROUGH")," "))},directives:[h.w,h.db,h.l,h.k,h.x,h.bb,h.r,h.F,p.m,h.I,h.mb,h.G,h.Y,h.B,h.E,h.H,h.kb,h.cb,h.c,l.i,l.k],pipes:[f.c],styles:[".content[_ngcontent-%COMP%]{background:var(--ion-color-light)}"]}),I),R=a("pqyF"),_=a("JvtB"),G=a("oZYh");function L(e,n){if(1&e){var t=d.Wb();d.Vb(0,"ion-button",24),d.dc("click",function(){return d.vc(t),d.fc().openSignInModal()}),d.Gc(1),d.gc(2,"translate"),d.Ub()}2&e&&(d.Db(1),d.Ic(" ",d.hc(2,1,"LOGIN")," "))}function T(e,n){if(1&e){var t=d.Wb();d.Vb(0,"ion-item",11),d.dc("click",function(){return d.vc(t),d.fc().goTo("reviews")}),d.Qb(1,"ion-icon",25),d.Vb(2,"ion-label"),d.Vb(3,"p",13),d.Gc(4),d.gc(5,"translate"),d.Ub(),d.Ub(),d.Qb(6,"ion-icon",14),d.Ub()}2&e&&(d.Db(4),d.Hc(d.hc(5,1,"REVIEWS")))}function A(e,n){if(1&e){var t=d.Wb();d.Vb(0,"ion-item",21),d.dc("click",function(){return d.vc(t),d.fc().onLogout()}),d.Qb(1,"ion-icon",26),d.Vb(2,"ion-label"),d.Vb(3,"p",18),d.Gc(4),d.gc(5,"translate"),d.Ub(),d.Ub(),d.Qb(6,"ion-icon",14),d.Ub()}2&e&&(d.Db(4),d.Hc(d.hc(5,1,"LOGOUT")))}var N,H,Q,j,W,F=((N=function(n){i(a,n);var r=o(a);function a(n,t,i){var o;return e(this,a),(o=r.call(this,n)).appConfigService=t,o.eventBusService=i,o}return t(a,[{key:"enableMenuSwipe",value:function(){return!0}},{key:"ionViewWillEnter",value:function(){this.container&&this.container.scrollToTop()}},{key:"ngOnInit",value:function(){var e=this;this.user=b.a.getCurrent(),this.eventBusService.on("user:login",function(){e.user=b.a.getCurrent()}),this.eventBusService.on("user:loggedOut",function(){e.user=null}),this.checkReviewSettings()}},{key:"ionViewDidEnter",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.user=b.a.getCurrent(),e.next=3,this.getTrans("PROFILE");case 3:n=e.sent,this.setPageTitle(n),this.setMetaTags({title:n});case 5:case"end":return e.stop()}},e,this)}))}},{key:"checkReviewSettings",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.appConfigService.load();case 3:(n=e.sent)&&n.reviews&&(this.isReviewsEnabled=!n.reviews.disabled),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}))}},{key:"goTo",value:function(e){if(!b.a.getCurrent())return this.openSignInModal();this.navigateToRelative("./"+e)}},{key:"onPresentEditModal",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b.a.getCurrent()){e.next=2;break}return e.abrupt("return",this.openSignInModal());case 2:return e.next=4,this.showLoadingView({showOverlay:!0});case 4:return e.next=6,this.modalCtrl.create({component:U});case 6:return n=e.sent,e.next=9,n.present();case 9:return e.next=11,this.dismissLoadingView();case 11:case"end":return e.stop()}},e,this)}))}},{key:"onPresentChangePasswordModal",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b.a.getCurrent()){e.next=2;break}return e.abrupt("return",this.openSignInModal());case 2:return e.next=4,this.showLoadingView({showOverlay:!0});case 4:return e.next=6,this.modalCtrl.create({component:O});case 6:return n=e.sent,e.next=9,n.present();case 9:return e.next=11,this.dismissLoadingView();case 11:case"end":return e.stop()}},e,this)}))}},{key:"onPresentSettingsModal",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b.a.getCurrent()){e.next=2;break}return e.abrupt("return",this.openSignInModal());case 2:return e.next=4,this.showLoadingView({showOverlay:!0});case 4:return e.next=6,this.modalCtrl.create({component:M});case 6:return n=e.sent,e.next=9,n.present();case 9:return e.next=11,this.dismissLoadingView();case 11:case"end":return e.stop()}},e,this)}))}},{key:"openSignInModal",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.showLoadingView({showOverlay:!0});case 2:return e.next=4,this.modalCtrl.create({component:P.a});case 4:return n=e.sent,e.next=7,n.present();case 7:return e.next=9,this.dismissLoadingView();case 9:case"end":return e.stop()}},e,this)}))}},{key:"onLogout",value:function(){this.eventBusService.emit(new R.a("user:logout"))}}]),a}(u.a)).\u0275fac=function(e){return new(e||N)(d.Pb(d.t),d.Pb(_.a),d.Pb(R.b))},N.\u0275cmp=d.Jb({type:N,selectors:[["page-profile"]],viewQuery:function(e,n){var t;1&e&&d.Kc(h.r,3),2&e&&d.tc(t=d.ec())&&(n.container=t.first)},features:[d.Ab],decls:64,vars:26,consts:[[1,"ion-no-border"],["color","primary","fixed",""],["slot","start"],["fixed",""],[1,"ion-justify-content-center"],["size-xs","12","size-sm","","size-md","","size-lg","8",1,"ion-no-padding"],[1,"heading"],["src-fallback","./assets/img/avatar.png",3,"src"],["color","light"],["margin-top","","shape","round","color","light",3,"click",4,"ngIf"],[1,"ion-no-padding","ion-no-margin"],["color","light",3,"click"],["name","pin","slot","start","color","primary"],[1,"bold","link","text-slarge"],["name","chevron-forward","slot","end","color","dark"],["name","heart","slot","start","color","primary"],["color","light",3,"click",4,"ngIf"],["name","lock-closed","slot","start","color","primary"],[1,"link","bold","link","text-slarge"],["name","create","slot","start","color","primary"],["name","cog","slot","start","color","primary"],["lines","none","color","light",3,"click"],["name","help-buoy","slot","start","color","primary"],["lines","none","color","light",3,"click",4,"ngIf"],["margin-top","","shape","round","color","light",3,"click"],["name","star","slot","start","color","primary"],["name","log-out","slot","start","color","primary"]],template:function(e,n){1&e&&(d.Vb(0,"ion-header",0),d.Vb(1,"ion-toolbar",1),d.Vb(2,"ion-buttons",2),d.Qb(3,"ion-back-button"),d.Ub(),d.Vb(4,"ion-title"),d.Gc(5),d.gc(6,"translate"),d.Ub(),d.Ub(),d.Ub(),d.Vb(7,"ion-content"),d.Vb(8,"ion-grid",3),d.Vb(9,"ion-row",4),d.Vb(10,"ion-col",5),d.Vb(11,"div"),d.Vb(12,"section",6),d.Vb(13,"ion-avatar"),d.Qb(14,"img",7),d.Ub(),d.Vb(15,"ion-text",8),d.Vb(16,"h3"),d.Gc(17),d.Ub(),d.Ub(),d.Ec(18,L,3,3,"ion-button",9),d.Ub(),d.Vb(19,"ion-list",10),d.Vb(20,"ion-item",11),d.dc("click",function(){return n.goTo("places")}),d.Qb(21,"ion-icon",12),d.Vb(22,"ion-label"),d.Vb(23,"p",13),d.Gc(24),d.gc(25,"translate"),d.Ub(),d.Ub(),d.Qb(26,"ion-icon",14),d.Ub(),d.Vb(27,"ion-item",11),d.dc("click",function(){return n.goTo("likes")}),d.Qb(28,"ion-icon",15),d.Vb(29,"ion-label"),d.Vb(30,"p",13),d.Gc(31),d.gc(32,"translate"),d.Ub(),d.Ub(),d.Qb(33,"ion-icon",14),d.Ub(),d.Ec(34,T,7,3,"ion-item",16),d.Vb(35,"ion-item",11),d.dc("click",function(){return n.onPresentChangePasswordModal()}),d.Qb(36,"ion-icon",17),d.Vb(37,"ion-label"),d.Vb(38,"p",18),d.Gc(39),d.gc(40,"translate"),d.Ub(),d.Ub(),d.Qb(41,"ion-icon",14),d.Ub(),d.Vb(42,"ion-item",11),d.dc("click",function(){return n.onPresentEditModal()}),d.Qb(43,"ion-icon",19),d.Vb(44,"ion-label"),d.Vb(45,"p",18),d.Gc(46),d.gc(47,"translate"),d.Ub(),d.Ub(),d.Qb(48,"ion-icon",14),d.Ub(),d.Vb(49,"ion-item",11),d.dc("click",function(){return n.onPresentSettingsModal()}),d.Qb(50,"ion-icon",20),d.Vb(51,"ion-label"),d.Vb(52,"p",18),d.Gc(53),d.gc(54,"translate"),d.Ub(),d.Ub(),d.Qb(55,"ion-icon",14),d.Ub(),d.Vb(56,"ion-item",21),d.dc("click",function(){return n.navigateToRelative("./help")}),d.Qb(57,"ion-icon",22),d.Vb(58,"ion-label"),d.Vb(59,"p",18),d.Gc(60),d.gc(61,"translate"),d.Ub(),d.Ub(),d.Qb(62,"ion-icon",14),d.Ub(),d.Ec(63,A,7,3,"ion-item",23),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub()),2&e&&(d.Db(5),d.Hc(d.hc(6,12,"PROFILE")),d.Db(9),d.lc("src",null==n.user||null==n.user.photo?null:n.user.photo.url(),d.zc),d.Db(3),d.Hc(null==n.user?null:n.user.name),d.Db(1),d.lc("ngIf",!n.user),d.Db(6),d.Hc(d.hc(25,14,"MY_PLACES")),d.Db(7),d.Hc(d.hc(32,16,"LIKES")),d.Db(3),d.lc("ngIf",n.isReviewsEnabled),d.Db(5),d.Hc(d.hc(40,18,"CHANGE_PASSWORD")),d.Db(7),d.Hc(d.hc(47,20,"EDIT_PROFILE")),d.Db(7),d.Hc(d.hc(54,22,"SETTINGS")),d.Db(7),d.Hc(d.hc(61,24,"HELP")),d.Db(3),d.lc("ngIf",n.user))},directives:[h.w,h.db,h.l,h.h,h.i,h.bb,h.r,h.v,h.O,h.q,h.g,G.a,h.Y,p.m,h.F,h.B,h.x,h.E,h.k],pipes:[f.c],styles:[".heading[_ngcontent-%COMP%]{background:var(--ion-color-primary);display:flex;flex-direction:column;align-items:center;align-self:center;justify-content:center;padding-top:40px;padding-bottom:40px}ion-avatar[_ngcontent-%COMP%]{width:80px;height:80px}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:var(--ion-color-light);display:inline-block;max-width:80px;max-height:80px;border-radius:50%}ion-item[_ngcontent-%COMP%]{--min-height:64px}.custom-line-height[_ngcontent-%COMP%]{line-height:1.6}.skeleton-item[_ngcontent-%COMP%]{width:auto;height:auto;margin:10px auto;padding:10px}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:inline-flex;width:100%;height:auto;flex:1}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:100px;height:90px}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;padding:10px;height:80px}.hero-img[_ngcontent-%COMP%]{width:50%}ion-grid[_ngcontent-%COMP%]{padding:0}@media only screen and (min-width:768px){ion-grid[_ngcontent-%COMP%]{padding:16px}.heading[_ngcontent-%COMP%]{border-top-left-radius:8px;border-top-right-radius:8px;margin-top:16px}.hero-container[_ngcontent-%COMP%], .intro[_ngcontent-%COMP%]{padding:16px}.hero-img[_ngcontent-%COMP%]{width:90%}.intro[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}}"]}),N),B=a("d2mR"),q=((Q=function n(){e(this,n)}).\u0275mod=d.Nb({type:Q}),Q.\u0275inj=d.Mb({factory:function(e){return new(e||Q)},imports:[[B.a,l.e,l.m]]}),Q),K=((H=function n(){e(this,n)}).\u0275mod=d.Nb({type:H}),H.\u0275inj=d.Mb({factory:function(e){return new(e||H)},imports:[[B.a,l.e,l.m]]}),H),J=a("b8Qw"),Y=a("jYSZ"),z=((W=function n(){e(this,n)}).\u0275mod=d.Nb({type:W}),W.\u0275inj=d.Mb({factory:function(e){return new(e||W)},imports:[[B.a,Y.a,l.e]]}),W),X=((j=function n(){e(this,n)}).\u0275mod=d.Nb({type:j}),j.\u0275inj=d.Mb({factory:function(e){return new(e||j)},imports:[[B.a,q,K,J.a,z,c.j.forChild([{path:"",component:F}])]]}),j)}}])}();