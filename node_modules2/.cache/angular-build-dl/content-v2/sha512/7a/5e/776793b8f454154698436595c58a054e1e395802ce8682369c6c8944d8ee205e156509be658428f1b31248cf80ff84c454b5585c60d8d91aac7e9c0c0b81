!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=i(t);if(e){var c=i(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return r(this,n)}}function r(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{EoZo:function(r,i,c){"use strict";c.r(i),c.d(i,"PostDetailPageModule",function(){return _});var a=c("tyNb"),s=c("mrSG"),l=c("NV1z"),u=c("XNiG"),h=c("VRyK"),b=c("TEn/"),p=c("7asV"),f=c("fXoL"),d=c("/XPu"),g=c("jhN1"),w=c("MvqN"),v=c("ofXK"),m=c("4ro/"),y=c("xJkR"),S=c("wf0l"),k=c("sYmb");function x(t,e){1&t&&(f.Qb(0,"empty-view",20),f.gc(1,"translate")),2&t&&f.lc("text",f.hc(1,1,"EMPTY_DATA"))}function V(t,e){1&t&&(f.Qb(0,"empty-view",20),f.gc(1,"translate")),2&t&&f.lc("text",f.hc(1,1,"ERROR_NETWORK"))}var U=function(){return{"border-radius":"0",margin:"0 0 16px",height:"250px",width:"100%"}},O=function(){return{"border-radius":"0",height:"10px"}};function E(t,e){1&t&&(f.Vb(0,"div"),f.Qb(1,"ngx-skeleton-loader",21),f.Qb(2,"ngx-skeleton-loader",22),f.Ub()),2&t&&(f.Db(1),f.lc("theme",f.oc(2,U)),f.Db(1),f.lc("theme",f.oc(3,O)))}var R=function(t){return[t]};function P(t,e){if(1&t&&(f.Vb(0,"ion-button",30),f.Gc(1),f.gc(2,"translate"),f.Ub()),2&t){var n=f.fc(2);f.lc("routerLink",f.pc(4,R,"/1/posts/places/"+n.post.place.id)),f.Db(1),f.Ic(" ",f.hc(2,2,"VIEW_PLACE")," ")}}function D(t,e){if(1&t){var n=f.Wb();f.Vb(0,"div",31),f.dc("click",function(t){return f.vc(n),f.fc(2).onContentTouched(t)}),f.Ub()}if(2&t){var o=f.fc(2);f.lc("innerHTML",o.htmlBody,f.wc)}}function T(t,e){if(1&t&&(f.Vb(0,"div",23),f.Qb(1,"div",24),f.Vb(2,"div",25),f.Vb(3,"h3",26),f.Gc(4),f.Ub(),f.Vb(5,"ion-text",27),f.Vb(6,"p",26),f.Gc(7),f.Ub(),f.Ub(),f.Ec(8,P,3,6,"ion-button",28),f.Ec(9,D,1,1,"div",29),f.Ub(),f.Ub()),2&t){var n=f.fc();f.Db(1),f.lc("lazyLoad",null==n.post||null==n.post.image?null:n.post.image.url())("customObservable",n.loadAndScroll),f.Db(3),f.Hc(null==n.post?null:n.post.title),f.Db(3),f.Hc(null==n.post?null:n.post.body),f.Db(1),f.lc("ngIf",n.post.place),f.Db(1),f.lc("ngIf",n.htmlBody)}}var L,j,C=((L=function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}(b,r);var i,c,a,l=o(b);function b(e,n,o,r){var i;return t(this,b),(i=l.call(this,e)).socialSharing=n,i.sanitizer=o,i.postService=r,i.webSocialShare={show:!1,share:{config:[{facebook:{socialShareUrl:""}},{twitter:{socialShareUrl:""}},{whatsapp:{socialShareText:"",socialShareUrl:""}},{copy:{socialShareUrl:""}}]},onClosed:function(){i.webSocialShare.show=!1}},i.contentLoaded=new u.a,i}return i=b,(c=[{key:"enableMenuSwipe",value:function(){return!0}},{key:"ngOnInit",value:function(){this.setupObservable()}},{key:"ionViewDidEnter",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.showLoadingView({showOverlay:!1});case 2:this.loadPost();case 3:case"end":return t.stop()}},t,this)}))}},{key:"setupObservable",value:function(){this.loadAndScroll=Object(h.a)(this.container.ionScroll,this.contentLoaded)}},{key:"loadPost",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postService.loadOne(this.getParams().id);case 3:this.post=t.sent,this.post.htmlBody&&(this.htmlBody=this.sanitizer.bypassSecurityTrustHtml(this.post.htmlBody)),this.setPageTitle(this.post.title),this.setMetaTags({title:this.post.title,description:this.post.body,image:this.post.image?this.post.image.url():"",slug:this.post.getSlug()}),this.webSocialShare.share.config.forEach(function(t){t.whatsapp?t.whatsapp.socialShareUrl=e.getShareUrl(e.post.getSlug()):t.facebook?t.facebook.socialShareUrl=e.getShareUrl(e.post.getSlug()):t.twitter?t.twitter.socialShareUrl=e.getShareUrl(e.post.getSlug()):t.copy&&(t.copy.socialShareUrl=e.getShareUrl(e.post.getSlug()))}),this.showContentView(),this.onContentLoaded(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),101===t.t0.code?this.showEmptyView():this.showErrorView(),this.translate.get("ERROR_NETWORK").subscribe(function(t){return e.showToast(t)});case 15:case"end":return t.stop()}},t,this,[[0,12]])}))}},{key:"onContentTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target.getAttribute("href");e&&(t.preventDefault(),this.openUrl(e))}},{key:"onContentLoaded",value:function(){var t=this;setTimeout(function(){t.contentLoaded.next()},400)}},{key:"onShare",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isCordova){t.next=12;break}return t.prev=1,e=this.getShareUrl(this.post.getSlug()),t.next=5,this.socialSharing.share(null,null,null,e);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.warn(t.t0);case 10:t.next=13;break;case 12:this.isPwa||this.isMobile?this.webSocialShare.show=!0:this.openShareModal();case 13:case"end":return t.stop()}},t,this,[[1,7]])}))}},{key:"openShareModal",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:p.a});case 2:return e=t.sent,t.next=5,e.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}))}}])&&e(i.prototype,c),a&&e(i,a),b}(l.a)).\u0275fac=function(t){return new(t||L)(f.Pb(f.t),f.Pb(d.a),f.Pb(g.b),f.Pb(w.a))},L.\u0275cmp=f.Jb({type:L,selectors:[["page-post-detail"]],viewQuery:function(t,e){var n;1&t&&f.Kc(b.r,3),2&t&&f.tc(n=f.ec())&&(e.container=n.first)},features:[f.Ab],decls:23,vars:8,consts:[[1,"ion-no-border"],["color","primary","fixed",""],["slot","start"],["defaultHref","/"],["slot","end"],[1,"btn-share",3,"disabled","click"],["slot","icon-only","name","share-social-outline"],["scrollEvents","true"],["container",""],["icon","alert-circle-outline",3,"text",4,"ngIf"],[3,"show","share","closed"],["name","logo-facebook","slot","facebook",1,"block",2,"color","var(--ion-color-fb)","width","36px","height","36px"],["name","logo-twitter","slot","twitter",1,"block",2,"color","var(--ion-color-twitter)","width","36px","height","36px"],["name","logo-whatsapp","slot","whatsapp",1,"block",2,"color","var(--ion-color-whatsapp)","width","36px","height","36px"],["name","copy-outline","slot","copy",1,"block",2,"color","var(--ion-color-medium)","width","36px","height","36px"],["fixed",""],[1,"ion-justify-content-center"],["size-xs","12","size-lg","8"],[4,"ngIf"],["class","fade-in",4,"ngIf"],["icon","alert-circle-outline",3,"text"],["count","1","appearance","circle",3,"theme"],["count","16",3,"theme"],[1,"fade-in"],["defaultImage","./assets/img/placeholder.png",1,"bg-img",3,"lazyLoad","customObservable"],[1,"margin-top","ion-padding"],[1,"bold"],["color","medium"],["color","secondary",3,"routerLink",4,"ngIf"],["class","html-content",3,"innerHTML","click",4,"ngIf"],["color","secondary",3,"routerLink"],[1,"html-content",3,"innerHTML","click"]],template:function(t,e){1&t&&(f.Vb(0,"ion-header",0),f.Vb(1,"ion-toolbar",1),f.Vb(2,"ion-buttons",2),f.Qb(3,"ion-back-button",3),f.Ub(),f.Vb(4,"ion-title"),f.Gc(5),f.Ub(),f.Vb(6,"ion-buttons",4),f.Vb(7,"ion-button",5),f.dc("click",function(){return e.onShare()}),f.Qb(8,"ion-icon",6),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Vb(9,"ion-content",7,8),f.Ec(11,x,2,3,"empty-view",9),f.Ec(12,V,2,3,"empty-view",9),f.Vb(13,"web-social-share",10),f.dc("closed",function(){return e.webSocialShare.onClosed()}),f.Qb(14,"ion-icon",11),f.Qb(15,"ion-icon",12),f.Qb(16,"ion-icon",13),f.Qb(17,"ion-icon",14),f.Ub(),f.Vb(18,"ion-grid",15),f.Vb(19,"ion-row",16),f.Vb(20,"ion-col",17),f.Ec(21,E,3,4,"div",18),f.Ec(22,T,10,6,"div",19),f.Ub(),f.Ub(),f.Ub(),f.Ub()),2&t&&(f.Db(5),f.Hc(null==e.post?null:e.post.title),f.Db(2),f.lc("disabled",!e.post),f.Db(4),f.lc("ngIf",e.isEmptyViewVisible),f.Db(1),f.lc("ngIf",e.isErrorViewVisible),f.Db(1),f.lc("show",e.webSocialShare.show)("share",e.webSocialShare.share),f.Db(8),f.lc("ngIf",e.isLoadingViewVisible),f.Db(1),f.lc("ngIf",e.isContentViewVisible))},directives:[b.w,b.db,b.l,b.h,b.i,b.bb,b.k,b.x,b.r,v.m,b.v,b.O,b.q,m.a,y.a,S.b,b.Y,b.lb,a.i],pipes:[k.c],styles:["ion-grid[_ngcontent-%COMP%]{padding:0}.bg-img[_ngcontent-%COMP%]{background-size:cover;background-position:50%;width:100%;height:250px}.icon-share[_ngcontent-%COMP%]{font-size:48px}"]}),L),I=c("d2mR"),M=c("Hr7V"),_=((j=function e(){t(this,e)}).\u0275mod=f.Nb({type:j}),j.\u0275inj=f.Mb({factory:function(t){return new(t||j)},imports:[[I.a,M.a,a.j.forChild([{path:"",component:C}])]]}),j)}}])}();