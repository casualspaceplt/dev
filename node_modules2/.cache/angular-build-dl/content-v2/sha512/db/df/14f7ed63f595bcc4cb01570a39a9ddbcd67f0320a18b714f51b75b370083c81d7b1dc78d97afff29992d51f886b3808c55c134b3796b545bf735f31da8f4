(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{EoZo:function(t,o,e){"use strict";e.r(o),e.d(o,"PostDetailPageModule",function(){return T});var i=e("tyNb"),n=e("mrSG"),s=e("NV1z"),c=e("XNiG"),l=e("VRyK"),r=e("TEn/"),a=e("7asV"),h=e("fXoL"),b=e("/XPu"),d=e("jhN1"),p=e("MvqN"),u=e("ofXK"),g=e("4ro/"),f=e("xJkR"),w=e("wf0l"),m=e("sYmb");function S(t,o){1&t&&(h.Qb(0,"empty-view",20),h.gc(1,"translate")),2&t&&h.lc("text",h.hc(1,1,"EMPTY_DATA"))}function v(t,o){1&t&&(h.Qb(0,"empty-view",20),h.gc(1,"translate")),2&t&&h.lc("text",h.hc(1,1,"ERROR_NETWORK"))}const y=function(){return{"border-radius":"0",margin:"0 0 16px",height:"250px",width:"100%"}},V=function(){return{"border-radius":"0",height:"10px"}};function U(t,o){1&t&&(h.Vb(0,"div"),h.Qb(1,"ngx-skeleton-loader",21),h.Qb(2,"ngx-skeleton-loader",22),h.Ub()),2&t&&(h.Db(1),h.lc("theme",h.oc(2,y)),h.Db(1),h.lc("theme",h.oc(3,V)))}const x=function(t){return[t]};function k(t,o){if(1&t&&(h.Vb(0,"ion-button",30),h.Gc(1),h.gc(2,"translate"),h.Ub()),2&t){const t=h.fc(2);h.lc("routerLink",h.pc(4,x,"/1/posts/places/"+t.post.place.id)),h.Db(1),h.Ic(" ",h.hc(2,2,"VIEW_PLACE")," ")}}function E(t,o){if(1&t){const t=h.Wb();h.Vb(0,"div",31),h.dc("click",function(o){return h.vc(t),h.fc(2).onContentTouched(o)}),h.Ub()}if(2&t){const t=h.fc(2);h.lc("innerHTML",t.htmlBody,h.wc)}}function O(t,o){if(1&t&&(h.Vb(0,"div",23),h.Qb(1,"div",24),h.Vb(2,"div",25),h.Vb(3,"h3",26),h.Gc(4),h.Ub(),h.Vb(5,"ion-text",27),h.Vb(6,"p",26),h.Gc(7),h.Ub(),h.Ub(),h.Ec(8,k,3,6,"ion-button",28),h.Ec(9,E,1,1,"div",29),h.Ub(),h.Ub()),2&t){const t=h.fc();h.Db(1),h.lc("lazyLoad",null==t.post||null==t.post.image?null:t.post.image.url())("customObservable",t.loadAndScroll),h.Db(3),h.Hc(null==t.post?null:t.post.title),h.Db(3),h.Hc(null==t.post?null:t.post.body),h.Db(1),h.lc("ngIf",t.post.place),h.Db(1),h.lc("ngIf",t.htmlBody)}}let D=(()=>{class t extends s.a{constructor(t,o,e,i){super(t),this.socialSharing=o,this.sanitizer=e,this.postService=i,this.webSocialShare={show:!1,share:{config:[{facebook:{socialShareUrl:""}},{twitter:{socialShareUrl:""}},{whatsapp:{socialShareText:"",socialShareUrl:""}},{copy:{socialShareUrl:""}}]},onClosed:()=>{this.webSocialShare.show=!1}},this.contentLoaded=new c.a}enableMenuSwipe(){return!0}ngOnInit(){this.setupObservable()}ionViewDidEnter(){return Object(n.a)(this,void 0,void 0,function*(){yield this.showLoadingView({showOverlay:!1}),this.loadPost()})}setupObservable(){this.loadAndScroll=Object(l.a)(this.container.ionScroll,this.contentLoaded)}loadPost(){return Object(n.a)(this,void 0,void 0,function*(){try{this.post=yield this.postService.loadOne(this.getParams().id),this.post.htmlBody&&(this.htmlBody=this.sanitizer.bypassSecurityTrustHtml(this.post.htmlBody)),this.setPageTitle(this.post.title),this.setMetaTags({title:this.post.title,description:this.post.body,image:this.post.image?this.post.image.url():"",slug:this.post.getSlug()}),this.webSocialShare.share.config.forEach(t=>{t.whatsapp?t.whatsapp.socialShareUrl=this.getShareUrl(this.post.getSlug()):t.facebook?t.facebook.socialShareUrl=this.getShareUrl(this.post.getSlug()):t.twitter?t.twitter.socialShareUrl=this.getShareUrl(this.post.getSlug()):t.copy&&(t.copy.socialShareUrl=this.getShareUrl(this.post.getSlug()))}),this.showContentView(),this.onContentLoaded()}catch(t){101===t.code?this.showEmptyView():this.showErrorView(),this.translate.get("ERROR_NETWORK").subscribe(t=>this.showToast(t))}})}onContentTouched(t={}){const o=t.target.getAttribute("href");o&&(t.preventDefault(),this.openUrl(o))}onContentLoaded(){setTimeout(()=>{this.contentLoaded.next()},400)}onShare(){return Object(n.a)(this,void 0,void 0,function*(){if(this.isCordova)try{const t=this.getShareUrl(this.post.getSlug());yield this.socialSharing.share(null,null,null,t)}catch(t){console.warn(t)}else this.isPwa||this.isMobile?this.webSocialShare.show=!0:this.openShareModal()})}openShareModal(){return Object(n.a)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:a.a});return yield t.present()})}}return t.\u0275fac=function(o){return new(o||t)(h.Pb(h.t),h.Pb(b.a),h.Pb(d.b),h.Pb(p.a))},t.\u0275cmp=h.Jb({type:t,selectors:[["page-post-detail"]],viewQuery:function(t,o){if(1&t&&h.Kc(r.r,3),2&t){let t;h.tc(t=h.ec())&&(o.container=t.first)}},features:[h.Ab],decls:23,vars:8,consts:[[1,"ion-no-border"],["color","primary","fixed",""],["slot","start"],["defaultHref","/"],["slot","end"],[1,"btn-share",3,"disabled","click"],["slot","icon-only","name","share-social-outline"],["scrollEvents","true"],["container",""],["icon","alert-circle-outline",3,"text",4,"ngIf"],[3,"show","share","closed"],["name","logo-facebook","slot","facebook",1,"block",2,"color","var(--ion-color-fb)","width","36px","height","36px"],["name","logo-twitter","slot","twitter",1,"block",2,"color","var(--ion-color-twitter)","width","36px","height","36px"],["name","logo-whatsapp","slot","whatsapp",1,"block",2,"color","var(--ion-color-whatsapp)","width","36px","height","36px"],["name","copy-outline","slot","copy",1,"block",2,"color","var(--ion-color-medium)","width","36px","height","36px"],["fixed",""],[1,"ion-justify-content-center"],["size-xs","12","size-lg","8"],[4,"ngIf"],["class","fade-in",4,"ngIf"],["icon","alert-circle-outline",3,"text"],["count","1","appearance","circle",3,"theme"],["count","16",3,"theme"],[1,"fade-in"],["defaultImage","./assets/img/placeholder.png",1,"bg-img",3,"lazyLoad","customObservable"],[1,"margin-top","ion-padding"],[1,"bold"],["color","medium"],["color","secondary",3,"routerLink",4,"ngIf"],["class","html-content",3,"innerHTML","click",4,"ngIf"],["color","secondary",3,"routerLink"],[1,"html-content",3,"innerHTML","click"]],template:function(t,o){1&t&&(h.Vb(0,"ion-header",0),h.Vb(1,"ion-toolbar",1),h.Vb(2,"ion-buttons",2),h.Qb(3,"ion-back-button",3),h.Ub(),h.Vb(4,"ion-title"),h.Gc(5),h.Ub(),h.Vb(6,"ion-buttons",4),h.Vb(7,"ion-button",5),h.dc("click",function(){return o.onShare()}),h.Qb(8,"ion-icon",6),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(9,"ion-content",7,8),h.Ec(11,S,2,3,"empty-view",9),h.Ec(12,v,2,3,"empty-view",9),h.Vb(13,"web-social-share",10),h.dc("closed",function(){return o.webSocialShare.onClosed()}),h.Qb(14,"ion-icon",11),h.Qb(15,"ion-icon",12),h.Qb(16,"ion-icon",13),h.Qb(17,"ion-icon",14),h.Ub(),h.Vb(18,"ion-grid",15),h.Vb(19,"ion-row",16),h.Vb(20,"ion-col",17),h.Ec(21,U,3,4,"div",18),h.Ec(22,O,10,6,"div",19),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&t&&(h.Db(5),h.Hc(null==o.post?null:o.post.title),h.Db(2),h.lc("disabled",!o.post),h.Db(4),h.lc("ngIf",o.isEmptyViewVisible),h.Db(1),h.lc("ngIf",o.isErrorViewVisible),h.Db(1),h.lc("show",o.webSocialShare.show)("share",o.webSocialShare.share),h.Db(8),h.lc("ngIf",o.isLoadingViewVisible),h.Db(1),h.lc("ngIf",o.isContentViewVisible))},directives:[r.w,r.db,r.l,r.h,r.i,r.bb,r.k,r.x,r.r,u.m,r.v,r.O,r.q,g.a,f.a,w.b,r.Y,r.lb,i.i],pipes:[m.c],styles:["ion-grid[_ngcontent-%COMP%]{padding:0}.bg-img[_ngcontent-%COMP%]{background-size:cover;background-position:50%;width:100%;height:250px}.icon-share[_ngcontent-%COMP%]{font-size:48px}"]}),t})();var L=e("d2mR"),P=e("Hr7V");let T=(()=>{class t{}return t.\u0275mod=h.Nb({type:t}),t.\u0275inj=h.Mb({factory:function(o){return new(o||t)},imports:[[L.a,P.a,i.j.forChild([{path:"",component:D}])]]}),t})()}}]);