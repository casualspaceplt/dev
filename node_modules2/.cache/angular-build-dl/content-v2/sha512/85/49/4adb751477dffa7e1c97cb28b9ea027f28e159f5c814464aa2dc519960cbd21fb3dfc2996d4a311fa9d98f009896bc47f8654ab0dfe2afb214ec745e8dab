!function(){function t(t,n){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){s=!0,a=t},f:function(){try{c||null==r.return||r.return()}finally{if(s)throw a}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jroN:function(e,a,c){"use strict";c.r(a),c.d(a,"ReviewListPageModule",function(){return A});var s=c("tyNb"),l=c("mrSG"),u=c("NV1z"),f=c("qOnq"),b=c("TEn/"),p=c("XNiG"),d=c("VRyK"),h=c("R0Ic"),g=c("fXoL"),m=c("nFsf"),v=c("ofXK"),w=c("4ro/"),y=c("xJkR"),x=c("wf0l"),O=c("Qsw1"),V=c("sYmb");function R(t,e){if(1&t&&(g.Vb(0,"span"),g.Gc(1),g.gc(2,"translate"),g.Ub()),2&t){var n=g.fc();g.Db(1),g.Jc(" ",n.params.place.title," - ",g.hc(2,2,"REVIEWS")," ")}}function k(t,e){1&t&&(g.Qb(0,"empty-view",15),g.gc(1,"translate")),2&t&&g.lc("text",g.hc(1,1,"ERROR_REVIEWS"))}function E(t,e){1&t&&(g.Qb(0,"empty-view",16),g.gc(1,"translate")),2&t&&g.lc("text",g.hc(1,1,"EMPTY_REVIEWS"))}var U=function(){return{width:"80px",height:"80px"}},P=function(){return{width:"30%","border-radius":"0",height:"15px","margin-bottom":"10px"}},j=function(){return{width:"70%","border-radius":"0",height:"15px"}};function I(t,e){1&t&&(g.Vb(0,"div",18),g.Vb(1,"div",19),g.Vb(2,"div",20),g.Qb(3,"ngx-skeleton-loader",21),g.Ub(),g.Vb(4,"div",22),g.Vb(5,"div"),g.Qb(6,"ngx-skeleton-loader",23),g.Ub(),g.Vb(7,"div"),g.Qb(8,"ngx-skeleton-loader",23),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&t&&(g.Db(3),g.lc("theme",g.oc(3,U)),g.Db(3),g.lc("theme",g.oc(4,P)),g.Db(2),g.lc("theme",g.oc(5,j)))}function _(t,e){if(1&t&&(g.Vb(0,"section"),g.Ec(1,I,9,6,"div",17),g.Ub()),2&t){var n=g.fc();g.Db(1),g.lc("ngForOf",n.skeletonReviews)}}function C(t,e){if(1&t&&(g.Vb(0,"div",26),g.Vb(1,"ion-item",27),g.Vb(2,"ion-avatar",2),g.Qb(3,"img",28),g.Ub(),g.Vb(4,"ion-label",29),g.Vb(5,"ion-text",30),g.Vb(6,"span",31),g.Gc(7),g.gc(8,"date"),g.Ub(),g.Ub(),g.Vb(9,"ion-text",32),g.Vb(10,"h3",33),g.Gc(11),g.Ub(),g.Ub(),g.Qb(12,"bar-rating",34),g.Vb(13,"ion-text",32),g.Vb(14,"p",35),g.Gc(15),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&t){var n=e.$implicit,r=g.fc(2);g.Db(3),g.lc("lazyLoad",null==n.user||null==n.user.photo?null:n.user.photo.url())("customObservable",r.loadAndScroll),g.Db(4),g.Ic(" ",g.ic(8,9,n.createdAt,"mediumDate")," "),g.Db(4),g.Hc(null==n.user?null:n.user.name),g.Db(1),g.lc("rate",n.rating)("readOnly",!0)("max",5)("theme","stars"),g.Db(3),g.Hc(n.comment)}}function D(t,e){if(1&t&&(g.Vb(0,"ion-list",24),g.Ec(1,C,16,12,"div",25),g.Ub()),2&t){var n=g.fc();g.lc("@staggerIn",n.reviews.length),g.Db(1),g.lc("ngForOf",n.reviews)}}function M(t,e){if(1&t){var n=g.Wb();g.Vb(0,"ion-infinite-scroll",36),g.dc("ionInfinite",function(t){return g.vc(n),g.fc().onLoadMore(t)}),g.Qb(1,"ion-infinite-scroll-content"),g.Ub()}}var S,T,L=((S=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(b,e);var a,c,s,u=o(b);function b(t,e){var r;return n(this,b),(r=u.call(this,t)).reviewService=e,r.reviews=[],r.params={},r.params=Object.assign({},r.getParams()),r.params.limit=20,r.params.page=0,r.contentLoaded=new p.a,r.skeletonReviews=Array(10),r}return a=b,(c=[{key:"enableMenuSwipe",value:function(){return!1}},{key:"ngOnInit",value:function(){this.setupObservable()}},{key:"setupObservable",value:function(){this.loadAndScroll=Object(d.a)(this.container.ionScroll,this.contentLoaded)}},{key:"onContentLoaded",value:function(){var t=this;setTimeout(function(){t.contentLoaded.next()},400)}},{key:"ionViewDidEnter",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.showLoadingView({showOverlay:!1});case 2:if(!this.params.id){t.next=11;break}return t.next=5,this.loadPlace();case 5:return this.params.place=t.sent,t.next=8,this.getTrans("REVIEWS");case 8:e=t.sent,n=this.params.place.title+" - "+e,this.setPageTitle(n),this.setMetaTags({title:n});case 11:this.loadData();case 12:case"end":return t.stop()}},t,this)}))}},{key:"loadPlace",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new f.a).id=this.params.id,t.next=4,e.fetch();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}))}},{key:"loadData",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.reviewService.load(this.params);case 3:n=e.sent,r=t(n);try{for(r.s();!(i=r.n()).done;)o=i.value,this.reviews.push(o)}catch(c){r.e(c)}finally{r.f()}this.reviews.length?this.showContentView():this.showEmptyView(),this.onContentLoaded(),this.onRefreshComplete(n),e.next=16;break;case 9:return e.prev=9,e.t0=e.catch(0),this.showContentView(),this.onRefreshComplete(),e.next=14,this.getTrans("ERROR_NETWORK");case 14:a=e.sent,this.showToast(a);case 16:case"end":return e.stop()}},e,this,[[0,9]])}))}},{key:"onLoadMore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.infiniteScroll=t.target,this.params.page++,this.loadData()}},{key:"onReload",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.refresher=t.target,this.reviews=[],this.params.page=0,this.loadData()}}])&&r(a.prototype,c),s&&r(a,s),b}(u.a)).\u0275fac=function(t){return new(t||S)(g.Pb(g.t),g.Pb(m.a))},S.\u0275cmp=g.Jb({type:S,selectors:[["page-review-list"]],viewQuery:function(t,e){var n;1&t&&g.Kc(b.r,3),2&t&&g.tc(n=g.ec())&&(e.container=n.first)},features:[g.Ab],decls:20,vars:12,consts:[[1,"ion-no-border"],["color","primary","fixed",""],["slot","start"],[4,"ngIf"],["scrollEvents","true",1,"ion-padding"],["container",""],["slot","fixed",3,"ionRefresh"],[3,"pullingText","refreshingText"],["icon","alert-circle-outline",3,"text",4,"ngIf"],["icon","star",3,"text",4,"ngIf"],["fixed",""],[1,"ion-justify-content-center"],["size-xs","12","size-lg","8"],["lines","none",4,"ngIf"],[3,"ionInfinite",4,"ngIf"],["icon","alert-circle-outline",3,"text"],["icon","star",3,"text"],["class","skeleton-item light-bg radius",4,"ngFor","ngForOf"],[1,"skeleton-item","light-bg","radius"],[1,"wrapper"],[1,"avatar"],["appearance","circle",3,"theme"],[1,"title"],[3,"theme"],["lines","none"],["class","radius light-bg border ion-margin-bottom ion-padding",4,"ngFor","ngForOf"],[1,"radius","light-bg","border","ion-margin-bottom","ion-padding"],["color","light",1,"no-padding"],["defaultImage","./assets/img/avatar.png",3,"lazyLoad","customObservable"],[1,"ion-text-wrap"],["color","medium",1,"float-end"],[1,"text-small"],["color","dark"],[1,"bold","no-margin"],[1,"rating",3,"rate","readOnly","max","theme"],[1,"text-medium","no-margin"],[3,"ionInfinite"]],template:function(t,e){1&t&&(g.Vb(0,"ion-header",0),g.Vb(1,"ion-toolbar",1),g.Vb(2,"ion-buttons",2),g.Qb(3,"ion-back-button"),g.Ub(),g.Vb(4,"ion-title"),g.Ec(5,R,3,4,"span",3),g.Ub(),g.Ub(),g.Ub(),g.Vb(6,"ion-content",4,5),g.Vb(8,"ion-refresher",6),g.dc("ionRefresh",function(t){return e.onReload(t)}),g.Qb(9,"ion-refresher-content",7),g.gc(10,"translate"),g.gc(11,"translate"),g.Ub(),g.Ec(12,k,2,3,"empty-view",8),g.Ec(13,E,2,3,"empty-view",9),g.Vb(14,"ion-grid",10),g.Vb(15,"ion-row",11),g.Vb(16,"ion-col",12),g.Ec(17,_,2,1,"section",3),g.Ec(18,D,2,2,"ion-list",13),g.Ub(),g.Ub(),g.Ub(),g.Ec(19,M,2,0,"ion-infinite-scroll",14),g.Ub()),2&t&&(g.Db(5),g.lc("ngIf",null==e.params||null==e.params.place?null:e.params.place.title),g.Db(4),g.mc("pullingText",g.hc(10,8,"PULL_TO_REFRESH")),g.mc("refreshingText",g.hc(11,10,"REFRESHING")),g.Db(3),g.lc("ngIf",e.isErrorViewVisible),g.Db(1),g.lc("ngIf",e.isEmptyViewVisible),g.Db(4),g.lc("ngIf",e.isLoadingViewVisible),g.Db(1),g.lc("ngIf",e.isContentViewVisible),g.Db(1),g.lc("ngIf",e.isContentViewVisible))},directives:[b.w,b.db,b.l,b.h,b.i,b.bb,v.m,b.r,b.K,b.L,b.v,b.O,b.q,w.a,v.l,y.a,b.F,b.B,b.g,x.b,b.E,b.Y,O.a,b.y,b.z],pipes:[V.c,v.f],styles:["ion-avatar[_ngcontent-%COMP%]{margin:0 12px 0 0!important}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:var(--ion-color-dark)}ul[_ngcontent-%COMP%]{margin:4px 0;padding:0}ul.rating[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0!important;background:none;color:var(--ion-color-primary)}.skeleton-item[_ngcontent-%COMP%]{width:auto;height:auto;margin:10px auto;padding:10px}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:inline-flex;width:100%;height:auto;flex:1}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:100px;height:90px}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;padding:10px;height:80px}"],data:{animation:[Object(h.l)("staggerIn",[Object(h.k)("* => *",[Object(h.f)(":enter",Object(h.j)({opacity:0,transform:"translate3d(0,10px,0)"}),{optional:!0}),Object(h.f)(":enter",Object(h.h)("100ms",[Object(h.e)("300ms",Object(h.j)({opacity:1,transform:"translate3d(0,0,0)"}))]),{optional:!0})])])]}}),S),Q=c("d2mR"),A=((T=function t(){n(this,t)}).\u0275mod=g.Nb({type:T}),T.\u0275inj=g.Mb({factory:function(t){return new(t||T)},imports:[[Q.a,s.j.forChild([{path:"",component:L}])]]}),T)}}])}();