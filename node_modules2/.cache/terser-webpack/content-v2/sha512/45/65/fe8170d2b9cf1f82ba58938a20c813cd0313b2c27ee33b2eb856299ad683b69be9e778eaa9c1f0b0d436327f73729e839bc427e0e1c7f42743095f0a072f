{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jroN:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"ReviewListPageModule\",function(){return review_list_module_ReviewListPageModule});var router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),base_page=__webpack_require__(\"NV1z\"),place_service=__webpack_require__(\"qOnq\"),ionic_angular=__webpack_require__(\"TEn/\"),Subject=__webpack_require__(\"XNiG\"),merge=__webpack_require__(\"VRyK\"),animations=__webpack_require__(\"R0Ic\"),core=__webpack_require__(\"fXoL\"),review_service=__webpack_require__(\"nFsf\"),common=__webpack_require__(\"ofXK\"),empty_view=__webpack_require__(\"4ro/\"),ngx_skeleton_loader=__webpack_require__(\"xJkR\"),ng_lazyload_image=__webpack_require__(\"wf0l\"),ngx_bar_rating=__webpack_require__(\"Qsw1\"),ngx_translate_core=__webpack_require__(\"sYmb\");function ReviewListPage_span_5_Template(rf,ctx){if(1&rf&&(core.Vb(0,\"span\"),core.Gc(1),core.gc(2,\"translate\"),core.Ub()),2&rf){const ctx_r0=core.fc();core.Db(1),core.Jc(\" \",ctx_r0.params.place.title,\" - \",core.hc(2,2,\"REVIEWS\"),\" \")}}function ReviewListPage_empty_view_12_Template(rf,ctx){1&rf&&(core.Qb(0,\"empty-view\",15),core.gc(1,\"translate\")),2&rf&&core.lc(\"text\",core.hc(1,1,\"ERROR_REVIEWS\"))}function ReviewListPage_empty_view_13_Template(rf,ctx){1&rf&&(core.Qb(0,\"empty-view\",16),core.gc(1,\"translate\")),2&rf&&core.lc(\"text\",core.hc(1,1,\"EMPTY_REVIEWS\"))}const _c0=function(){return{width:\"80px\",height:\"80px\"}},_c1=function(){return{width:\"30%\",\"border-radius\":\"0\",height:\"15px\",\"margin-bottom\":\"10px\"}},_c2=function(){return{width:\"70%\",\"border-radius\":\"0\",height:\"15px\"}};function ReviewListPage_section_17_div_1_Template(rf,ctx){1&rf&&(core.Vb(0,\"div\",18),core.Vb(1,\"div\",19),core.Vb(2,\"div\",20),core.Qb(3,\"ngx-skeleton-loader\",21),core.Ub(),core.Vb(4,\"div\",22),core.Vb(5,\"div\"),core.Qb(6,\"ngx-skeleton-loader\",23),core.Ub(),core.Vb(7,\"div\"),core.Qb(8,\"ngx-skeleton-loader\",23),core.Ub(),core.Ub(),core.Ub(),core.Ub()),2&rf&&(core.Db(3),core.lc(\"theme\",core.oc(3,_c0)),core.Db(3),core.lc(\"theme\",core.oc(4,_c1)),core.Db(2),core.lc(\"theme\",core.oc(5,_c2)))}function ReviewListPage_section_17_Template(rf,ctx){if(1&rf&&(core.Vb(0,\"section\"),core.Ec(1,ReviewListPage_section_17_div_1_Template,9,6,\"div\",17),core.Ub()),2&rf){const ctx_r4=core.fc();core.Db(1),core.lc(\"ngForOf\",ctx_r4.skeletonReviews)}}function ReviewListPage_ion_list_18_div_1_Template(rf,ctx){if(1&rf&&(core.Vb(0,\"div\",26),core.Vb(1,\"ion-item\",27),core.Vb(2,\"ion-avatar\",2),core.Qb(3,\"img\",28),core.Ub(),core.Vb(4,\"ion-label\",29),core.Vb(5,\"ion-text\",30),core.Vb(6,\"span\",31),core.Gc(7),core.gc(8,\"date\"),core.Ub(),core.Ub(),core.Vb(9,\"ion-text\",32),core.Vb(10,\"h3\",33),core.Gc(11),core.Ub(),core.Ub(),core.Qb(12,\"bar-rating\",34),core.Vb(13,\"ion-text\",32),core.Vb(14,\"p\",35),core.Gc(15),core.Ub(),core.Ub(),core.Ub(),core.Ub(),core.Ub()),2&rf){const review_r10=ctx.$implicit,ctx_r9=core.fc(2);core.Db(3),core.lc(\"lazyLoad\",null==review_r10.user||null==review_r10.user.photo?null:review_r10.user.photo.url())(\"customObservable\",ctx_r9.loadAndScroll),core.Db(4),core.Ic(\" \",core.ic(8,9,review_r10.createdAt,\"mediumDate\"),\" \"),core.Db(4),core.Hc(null==review_r10.user?null:review_r10.user.name),core.Db(1),core.lc(\"rate\",review_r10.rating)(\"readOnly\",!0)(\"max\",5)(\"theme\",\"stars\"),core.Db(3),core.Hc(review_r10.comment)}}function ReviewListPage_ion_list_18_Template(rf,ctx){if(1&rf&&(core.Vb(0,\"ion-list\",24),core.Ec(1,ReviewListPage_ion_list_18_div_1_Template,16,12,\"div\",25),core.Ub()),2&rf){const ctx_r5=core.fc();core.lc(\"@staggerIn\",ctx_r5.reviews.length),core.Db(1),core.lc(\"ngForOf\",ctx_r5.reviews)}}function ReviewListPage_ion_infinite_scroll_19_Template(rf,ctx){if(1&rf){const _r12=core.Wb();core.Vb(0,\"ion-infinite-scroll\",36),core.dc(\"ionInfinite\",function($event){return core.vc(_r12),core.fc().onLoadMore($event)}),core.Qb(1,\"ion-infinite-scroll-content\"),core.Ub()}}let review_list_ReviewListPage=(()=>{class ReviewListPage extends base_page.a{constructor(injector,reviewService){super(injector),this.reviewService=reviewService,this.reviews=[],this.params={},this.params=Object.assign({},this.getParams()),this.params.limit=20,this.params.page=0,this.contentLoaded=new Subject.a,this.skeletonReviews=Array(10)}enableMenuSwipe(){return!1}ngOnInit(){this.setupObservable()}setupObservable(){this.loadAndScroll=Object(merge.a)(this.container.ionScroll,this.contentLoaded)}onContentLoaded(){setTimeout(()=>{this.contentLoaded.next()},400)}ionViewDidEnter(){return Object(tslib_es6.a)(this,void 0,void 0,function*(){if(yield this.showLoadingView({showOverlay:!1}),this.params.id){this.params.place=yield this.loadPlace();const str=yield this.getTrans(\"REVIEWS\"),title=this.params.place.title+\" - \"+str;this.setPageTitle(title),this.setMetaTags({title:title})}this.loadData()})}loadPlace(){return Object(tslib_es6.a)(this,void 0,void 0,function*(){const place=new place_service.a;return place.id=this.params.id,yield place.fetch()})}loadData(){return Object(tslib_es6.a)(this,void 0,void 0,function*(){try{const reviews=yield this.reviewService.load(this.params);for(let review of reviews)this.reviews.push(review);this.reviews.length?this.showContentView():this.showEmptyView(),this.onContentLoaded(),this.onRefreshComplete(reviews)}catch(error){this.showContentView(),this.onRefreshComplete();let message=yield this.getTrans(\"ERROR_NETWORK\");this.showToast(message)}})}onLoadMore(event={}){this.infiniteScroll=event.target,this.params.page++,this.loadData()}onReload(event={}){this.refresher=event.target,this.reviews=[],this.params.page=0,this.loadData()}}return ReviewListPage.ɵfac=function(t){return new(t||ReviewListPage)(core.Pb(core.t),core.Pb(review_service.a))},ReviewListPage.ɵcmp=core.Jb({type:ReviewListPage,selectors:[[\"page-review-list\"]],viewQuery:function(rf,ctx){if(1&rf&&core.Kc(ionic_angular.r,3),2&rf){let _t;core.tc(_t=core.ec())&&(ctx.container=_t.first)}},features:[core.Ab],decls:20,vars:12,consts:[[1,\"ion-no-border\"],[\"color\",\"primary\",\"fixed\",\"\"],[\"slot\",\"start\"],[4,\"ngIf\"],[\"scrollEvents\",\"true\",1,\"ion-padding\"],[\"container\",\"\"],[\"slot\",\"fixed\",3,\"ionRefresh\"],[3,\"pullingText\",\"refreshingText\"],[\"icon\",\"alert-circle-outline\",3,\"text\",4,\"ngIf\"],[\"icon\",\"star\",3,\"text\",4,\"ngIf\"],[\"fixed\",\"\"],[1,\"ion-justify-content-center\"],[\"size-xs\",\"12\",\"size-lg\",\"8\"],[\"lines\",\"none\",4,\"ngIf\"],[3,\"ionInfinite\",4,\"ngIf\"],[\"icon\",\"alert-circle-outline\",3,\"text\"],[\"icon\",\"star\",3,\"text\"],[\"class\",\"skeleton-item light-bg radius\",4,\"ngFor\",\"ngForOf\"],[1,\"skeleton-item\",\"light-bg\",\"radius\"],[1,\"wrapper\"],[1,\"avatar\"],[\"appearance\",\"circle\",3,\"theme\"],[1,\"title\"],[3,\"theme\"],[\"lines\",\"none\"],[\"class\",\"radius light-bg border ion-margin-bottom ion-padding\",4,\"ngFor\",\"ngForOf\"],[1,\"radius\",\"light-bg\",\"border\",\"ion-margin-bottom\",\"ion-padding\"],[\"color\",\"light\",1,\"no-padding\"],[\"defaultImage\",\"./assets/img/avatar.png\",3,\"lazyLoad\",\"customObservable\"],[1,\"ion-text-wrap\"],[\"color\",\"medium\",1,\"float-end\"],[1,\"text-small\"],[\"color\",\"dark\"],[1,\"bold\",\"no-margin\"],[1,\"rating\",3,\"rate\",\"readOnly\",\"max\",\"theme\"],[1,\"text-medium\",\"no-margin\"],[3,\"ionInfinite\"]],template:function(rf,ctx){1&rf&&(core.Vb(0,\"ion-header\",0),core.Vb(1,\"ion-toolbar\",1),core.Vb(2,\"ion-buttons\",2),core.Qb(3,\"ion-back-button\"),core.Ub(),core.Vb(4,\"ion-title\"),core.Ec(5,ReviewListPage_span_5_Template,3,4,\"span\",3),core.Ub(),core.Ub(),core.Ub(),core.Vb(6,\"ion-content\",4,5),core.Vb(8,\"ion-refresher\",6),core.dc(\"ionRefresh\",function($event){return ctx.onReload($event)}),core.Qb(9,\"ion-refresher-content\",7),core.gc(10,\"translate\"),core.gc(11,\"translate\"),core.Ub(),core.Ec(12,ReviewListPage_empty_view_12_Template,2,3,\"empty-view\",8),core.Ec(13,ReviewListPage_empty_view_13_Template,2,3,\"empty-view\",9),core.Vb(14,\"ion-grid\",10),core.Vb(15,\"ion-row\",11),core.Vb(16,\"ion-col\",12),core.Ec(17,ReviewListPage_section_17_Template,2,1,\"section\",3),core.Ec(18,ReviewListPage_ion_list_18_Template,2,2,\"ion-list\",13),core.Ub(),core.Ub(),core.Ub(),core.Ec(19,ReviewListPage_ion_infinite_scroll_19_Template,2,0,\"ion-infinite-scroll\",14),core.Ub()),2&rf&&(core.Db(5),core.lc(\"ngIf\",null==ctx.params||null==ctx.params.place?null:ctx.params.place.title),core.Db(4),core.mc(\"pullingText\",core.hc(10,8,\"PULL_TO_REFRESH\")),core.mc(\"refreshingText\",core.hc(11,10,\"REFRESHING\")),core.Db(3),core.lc(\"ngIf\",ctx.isErrorViewVisible),core.Db(1),core.lc(\"ngIf\",ctx.isEmptyViewVisible),core.Db(4),core.lc(\"ngIf\",ctx.isLoadingViewVisible),core.Db(1),core.lc(\"ngIf\",ctx.isContentViewVisible),core.Db(1),core.lc(\"ngIf\",ctx.isContentViewVisible))},directives:[ionic_angular.w,ionic_angular.db,ionic_angular.l,ionic_angular.h,ionic_angular.i,ionic_angular.bb,common.m,ionic_angular.r,ionic_angular.K,ionic_angular.L,ionic_angular.v,ionic_angular.O,ionic_angular.q,empty_view.a,common.l,ngx_skeleton_loader.a,ionic_angular.F,ionic_angular.B,ionic_angular.g,ng_lazyload_image.b,ionic_angular.E,ionic_angular.Y,ngx_bar_rating.a,ionic_angular.y,ionic_angular.z],pipes:[ngx_translate_core.c,common.f],styles:[\"ion-avatar[_ngcontent-%COMP%]{margin:0 12px 0 0!important}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:var(--ion-color-dark)}ul[_ngcontent-%COMP%]{margin:4px 0;padding:0}ul.rating[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0!important;background:none;color:var(--ion-color-primary)}.skeleton-item[_ngcontent-%COMP%]{width:auto;height:auto;margin:10px auto;padding:10px}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:inline-flex;width:100%;height:auto;flex:1}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:100px;height:90px}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;padding:10px;height:80px}\"],data:{animation:[Object(animations.l)(\"staggerIn\",[Object(animations.k)(\"* => *\",[Object(animations.f)(\":enter\",Object(animations.j)({opacity:0,transform:\"translate3d(0,10px,0)\"}),{optional:!0}),Object(animations.f)(\":enter\",Object(animations.h)(\"100ms\",[Object(animations.e)(\"300ms\",Object(animations.j)({opacity:1,transform:\"translate3d(0,0,0)\"}))]),{optional:!0})])])]}}),ReviewListPage})();var shared_module=__webpack_require__(\"d2mR\");let review_list_module_ReviewListPageModule=(()=>{class ReviewListPageModule{}return ReviewListPageModule.ɵmod=core.Nb({type:ReviewListPageModule}),ReviewListPageModule.ɵinj=core.Mb({factory:function(t){return new(t||ReviewListPageModule)},imports:[[shared_module.a,router.j.forChild([{path:\"\",component:review_list_ReviewListPage}])]]}),ReviewListPageModule})()}}]);","name":"4-es2015.6684302153af91959b97.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[4],{\n\n/***/ \"jroN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"ReviewListPageModule\", function() { return /* binding */ review_list_module_ReviewListPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 4 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/app/pages/base-page/base-page.ts\nvar base_page = __webpack_require__(\"NV1z\");\n\n// EXTERNAL MODULE: ./src/app/services/place-service.ts\nvar place_service = __webpack_require__(\"qOnq\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./node_modules/rxjs/_esm2015/internal/Subject.js\nvar Subject = __webpack_require__(\"XNiG\");\n\n// EXTERNAL MODULE: ./node_modules/rxjs/_esm2015/internal/observable/merge.js\nvar merge = __webpack_require__(\"VRyK\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/animations/__ivy_ngcc__/fesm2015/animations.js\nvar animations = __webpack_require__(\"R0Ic\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./src/app/services/review-service.ts\nvar review_service = __webpack_require__(\"nFsf\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/app/components/empty-view/empty-view.ts\nvar empty_view = __webpack_require__(\"4ro/\");\n\n// EXTERNAL MODULE: ./node_modules/ngx-skeleton-loader/__ivy_ngcc__/fesm2015/ngx-skeleton-loader.js + 4 modules\nvar ngx_skeleton_loader = __webpack_require__(\"xJkR\");\n\n// EXTERNAL MODULE: ./node_modules/ng-lazyload-image/__ivy_ngcc__/fesm2015/ng-lazyload-image.js + 1 modules\nvar ng_lazyload_image = __webpack_require__(\"wf0l\");\n\n// EXTERNAL MODULE: ./node_modules/ngx-bar-rating/__ivy_ngcc__/fesm2015/ngx-bar-rating.js\nvar ngx_bar_rating = __webpack_require__(\"Qsw1\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/app/pages/review-list/review-list.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction ReviewListPage_span_5_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Vb\" /* ɵɵelementStart */](0, \"span\");\r\n        core[\"Gc\" /* ɵɵtext */](1);\r\n        core[\"gc\" /* ɵɵpipe */](2, \"translate\");\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r0 = core[\"fc\" /* ɵɵnextContext */]();\r\n        core[\"Db\" /* ɵɵadvance */](1);\r\n        core[\"Jc\" /* ɵɵtextInterpolate2 */](\" \", ctx_r0.params.place.title, \" - \", core[\"hc\" /* ɵɵpipeBind1 */](2, 2, \"REVIEWS\"), \" \");\r\n    }\r\n}\r\nfunction ReviewListPage_empty_view_12_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Qb\" /* ɵɵelement */](0, \"empty-view\", 15);\r\n        core[\"gc\" /* ɵɵpipe */](1, \"translate\");\r\n    }\r\n    if (rf & 2) {\r\n        core[\"lc\" /* ɵɵproperty */](\"text\", core[\"hc\" /* ɵɵpipeBind1 */](1, 1, \"ERROR_REVIEWS\"));\r\n    }\r\n}\r\nfunction ReviewListPage_empty_view_13_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Qb\" /* ɵɵelement */](0, \"empty-view\", 16);\r\n        core[\"gc\" /* ɵɵpipe */](1, \"translate\");\r\n    }\r\n    if (rf & 2) {\r\n        core[\"lc\" /* ɵɵproperty */](\"text\", core[\"hc\" /* ɵɵpipeBind1 */](1, 1, \"EMPTY_REVIEWS\"));\r\n    }\r\n}\r\nconst _c0 = function () { return { width: \"80px\", height: \"80px\" }; };\r\nconst _c1 = function () { return { width: \"30%\", \"border-radius\": \"0\", height: \"15px\", \"margin-bottom\": \"10px\" }; };\r\nconst _c2 = function () { return { width: \"70%\", \"border-radius\": \"0\", height: \"15px\" }; };\r\nfunction ReviewListPage_section_17_div_1_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Vb\" /* ɵɵelementStart */](0, \"div\", 18);\r\n        core[\"Vb\" /* ɵɵelementStart */](1, \"div\", 19);\r\n        core[\"Vb\" /* ɵɵelementStart */](2, \"div\", 20);\r\n        core[\"Qb\" /* ɵɵelement */](3, \"ngx-skeleton-loader\", 21);\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n        core[\"Vb\" /* ɵɵelementStart */](4, \"div\", 22);\r\n        core[\"Vb\" /* ɵɵelementStart */](5, \"div\");\r\n        core[\"Qb\" /* ɵɵelement */](6, \"ngx-skeleton-loader\", 23);\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n        core[\"Vb\" /* ɵɵelementStart */](7, \"div\");\r\n        core[\"Qb\" /* ɵɵelement */](8, \"ngx-skeleton-loader\", 23);\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        core[\"Db\" /* ɵɵadvance */](3);\r\n        core[\"lc\" /* ɵɵproperty */](\"theme\", core[\"oc\" /* ɵɵpureFunction0 */](3, _c0));\r\n        core[\"Db\" /* ɵɵadvance */](3);\r\n        core[\"lc\" /* ɵɵproperty */](\"theme\", core[\"oc\" /* ɵɵpureFunction0 */](4, _c1));\r\n        core[\"Db\" /* ɵɵadvance */](2);\r\n        core[\"lc\" /* ɵɵproperty */](\"theme\", core[\"oc\" /* ɵɵpureFunction0 */](5, _c2));\r\n    }\r\n}\r\nfunction ReviewListPage_section_17_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Vb\" /* ɵɵelementStart */](0, \"section\");\r\n        core[\"Ec\" /* ɵɵtemplate */](1, ReviewListPage_section_17_div_1_Template, 9, 6, \"div\", 17);\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r4 = core[\"fc\" /* ɵɵnextContext */]();\r\n        core[\"Db\" /* ɵɵadvance */](1);\r\n        core[\"lc\" /* ɵɵproperty */](\"ngForOf\", ctx_r4.skeletonReviews);\r\n    }\r\n}\r\nfunction ReviewListPage_ion_list_18_div_1_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Vb\" /* ɵɵelementStart */](0, \"div\", 26);\r\n        core[\"Vb\" /* ɵɵelementStart */](1, \"ion-item\", 27);\r\n        core[\"Vb\" /* ɵɵelementStart */](2, \"ion-avatar\", 2);\r\n        core[\"Qb\" /* ɵɵelement */](3, \"img\", 28);\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n        core[\"Vb\" /* ɵɵelementStart */](4, \"ion-label\", 29);\r\n        core[\"Vb\" /* ɵɵelementStart */](5, \"ion-text\", 30);\r\n        core[\"Vb\" /* ɵɵelementStart */](6, \"span\", 31);\r\n        core[\"Gc\" /* ɵɵtext */](7);\r\n        core[\"gc\" /* ɵɵpipe */](8, \"date\");\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n        core[\"Vb\" /* ɵɵelementStart */](9, \"ion-text\", 32);\r\n        core[\"Vb\" /* ɵɵelementStart */](10, \"h3\", 33);\r\n        core[\"Gc\" /* ɵɵtext */](11);\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelement */](12, \"bar-rating\", 34);\r\n        core[\"Vb\" /* ɵɵelementStart */](13, \"ion-text\", 32);\r\n        core[\"Vb\" /* ɵɵelementStart */](14, \"p\", 35);\r\n        core[\"Gc\" /* ɵɵtext */](15);\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const review_r10 = ctx.$implicit;\r\n        const ctx_r9 = core[\"fc\" /* ɵɵnextContext */](2);\r\n        core[\"Db\" /* ɵɵadvance */](3);\r\n        core[\"lc\" /* ɵɵproperty */](\"lazyLoad\", review_r10.user == null ? null : review_r10.user.photo == null ? null : review_r10.user.photo.url())(\"customObservable\", ctx_r9.loadAndScroll);\r\n        core[\"Db\" /* ɵɵadvance */](4);\r\n        core[\"Ic\" /* ɵɵtextInterpolate1 */](\" \", core[\"ic\" /* ɵɵpipeBind2 */](8, 9, review_r10.createdAt, \"mediumDate\"), \" \");\r\n        core[\"Db\" /* ɵɵadvance */](4);\r\n        core[\"Hc\" /* ɵɵtextInterpolate */](review_r10.user == null ? null : review_r10.user.name);\r\n        core[\"Db\" /* ɵɵadvance */](1);\r\n        core[\"lc\" /* ɵɵproperty */](\"rate\", review_r10.rating)(\"readOnly\", true)(\"max\", 5)(\"theme\", \"stars\");\r\n        core[\"Db\" /* ɵɵadvance */](3);\r\n        core[\"Hc\" /* ɵɵtextInterpolate */](review_r10.comment);\r\n    }\r\n}\r\nfunction ReviewListPage_ion_list_18_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Vb\" /* ɵɵelementStart */](0, \"ion-list\", 24);\r\n        core[\"Ec\" /* ɵɵtemplate */](1, ReviewListPage_ion_list_18_div_1_Template, 16, 12, \"div\", 25);\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r5 = core[\"fc\" /* ɵɵnextContext */]();\r\n        core[\"lc\" /* ɵɵproperty */](\"@staggerIn\", ctx_r5.reviews.length);\r\n        core[\"Db\" /* ɵɵadvance */](1);\r\n        core[\"lc\" /* ɵɵproperty */](\"ngForOf\", ctx_r5.reviews);\r\n    }\r\n}\r\nfunction ReviewListPage_ion_infinite_scroll_19_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r12 = core[\"Wb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Vb\" /* ɵɵelementStart */](0, \"ion-infinite-scroll\", 36);\r\n        core[\"dc\" /* ɵɵlistener */](\"ionInfinite\", function ReviewListPage_ion_infinite_scroll_19_Template_ion_infinite_scroll_ionInfinite_0_listener($event) { core[\"vc\" /* ɵɵrestoreView */](_r12); const ctx_r11 = core[\"fc\" /* ɵɵnextContext */](); return ctx_r11.onLoadMore($event); });\r\n        core[\"Qb\" /* ɵɵelement */](1, \"ion-infinite-scroll-content\");\r\n        core[\"Ub\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nlet review_list_ReviewListPage = /*@__PURE__*/ (() => {\r\n    class ReviewListPage extends base_page[\"a\" /* BasePage */] {\r\n        constructor(injector, reviewService) {\r\n            super(injector);\r\n            this.reviewService = reviewService;\r\n            this.reviews = [];\r\n            this.params = {};\r\n            this.params = Object.assign({}, this.getParams());\r\n            this.params.limit = 20;\r\n            this.params.page = 0;\r\n            this.contentLoaded = new Subject[\"a\" /* Subject */]();\r\n            this.skeletonReviews = Array(10);\r\n        }\r\n        enableMenuSwipe() {\r\n            return false;\r\n        }\r\n        ngOnInit() {\r\n            this.setupObservable();\r\n        }\r\n        setupObservable() {\r\n            this.loadAndScroll = Object(merge[\"a\" /* merge */])(this.container.ionScroll, this.contentLoaded);\r\n        }\r\n        onContentLoaded() {\r\n            setTimeout(() => {\r\n                this.contentLoaded.next();\r\n            }, 400);\r\n        }\r\n        ionViewDidEnter() {\r\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\r\n                yield this.showLoadingView({ showOverlay: false });\r\n                if (this.params.id) {\r\n                    this.params.place = yield this.loadPlace();\r\n                    const str = yield this.getTrans('REVIEWS');\r\n                    const title = this.params.place.title + ' - ' + str;\r\n                    this.setPageTitle(title);\r\n                    this.setMetaTags({\r\n                        title: title\r\n                    });\r\n                }\r\n                this.loadData();\r\n            });\r\n        }\r\n        loadPlace() {\r\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\r\n                const place = new place_service[\"a\" /* Place */];\r\n                place.id = this.params.id;\r\n                return yield place.fetch();\r\n            });\r\n        }\r\n        loadData() {\r\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\r\n                try {\r\n                    const reviews = yield this.reviewService.load(this.params);\r\n                    for (let review of reviews) {\r\n                        this.reviews.push(review);\r\n                    }\r\n                    if (this.reviews.length) {\r\n                        this.showContentView();\r\n                    }\r\n                    else {\r\n                        this.showEmptyView();\r\n                    }\r\n                    this.onContentLoaded();\r\n                    this.onRefreshComplete(reviews);\r\n                }\r\n                catch (error) {\r\n                    this.showContentView();\r\n                    this.onRefreshComplete();\r\n                    let message = yield this.getTrans('ERROR_NETWORK');\r\n                    this.showToast(message);\r\n                }\r\n            });\r\n        }\r\n        onLoadMore(event = {}) {\r\n            this.infiniteScroll = event.target;\r\n            this.params.page++;\r\n            this.loadData();\r\n        }\r\n        onReload(event = {}) {\r\n            this.refresher = event.target;\r\n            this.reviews = [];\r\n            this.params.page = 0;\r\n            this.loadData();\r\n        }\r\n    }\r\n    ReviewListPage.ɵfac = function ReviewListPage_Factory(t) { return new (t || ReviewListPage)(core[\"Pb\" /* ɵɵdirectiveInject */](core[\"t\" /* Injector */]), core[\"Pb\" /* ɵɵdirectiveInject */](review_service[\"a\" /* Review */])); };\r\n    ReviewListPage.ɵcmp = core[\"Jb\" /* ɵɵdefineComponent */]({ type: ReviewListPage, selectors: [[\"page-review-list\"]], viewQuery: function ReviewListPage_Query(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"Kc\" /* ɵɵviewQuery */](ionic_angular[\"r\" /* IonContent */], 3);\r\n            }\r\n            if (rf & 2) {\r\n                let _t;\r\n                core[\"tc\" /* ɵɵqueryRefresh */](_t = core[\"ec\" /* ɵɵloadQuery */]()) && (ctx.container = _t.first);\r\n            }\r\n        }, features: [core[\"Ab\" /* ɵɵInheritDefinitionFeature */]], decls: 20, vars: 12, consts: [[1, \"ion-no-border\"], [\"color\", \"primary\", \"fixed\", \"\"], [\"slot\", \"start\"], [4, \"ngIf\"], [\"scrollEvents\", \"true\", 1, \"ion-padding\"], [\"container\", \"\"], [\"slot\", \"fixed\", 3, \"ionRefresh\"], [3, \"pullingText\", \"refreshingText\"], [\"icon\", \"alert-circle-outline\", 3, \"text\", 4, \"ngIf\"], [\"icon\", \"star\", 3, \"text\", 4, \"ngIf\"], [\"fixed\", \"\"], [1, \"ion-justify-content-center\"], [\"size-xs\", \"12\", \"size-lg\", \"8\"], [\"lines\", \"none\", 4, \"ngIf\"], [3, \"ionInfinite\", 4, \"ngIf\"], [\"icon\", \"alert-circle-outline\", 3, \"text\"], [\"icon\", \"star\", 3, \"text\"], [\"class\", \"skeleton-item light-bg radius\", 4, \"ngFor\", \"ngForOf\"], [1, \"skeleton-item\", \"light-bg\", \"radius\"], [1, \"wrapper\"], [1, \"avatar\"], [\"appearance\", \"circle\", 3, \"theme\"], [1, \"title\"], [3, \"theme\"], [\"lines\", \"none\"], [\"class\", \"radius light-bg border ion-margin-bottom ion-padding\", 4, \"ngFor\", \"ngForOf\"], [1, \"radius\", \"light-bg\", \"border\", \"ion-margin-bottom\", \"ion-padding\"], [\"color\", \"light\", 1, \"no-padding\"], [\"defaultImage\", \"./assets/img/avatar.png\", 3, \"lazyLoad\", \"customObservable\"], [1, \"ion-text-wrap\"], [\"color\", \"medium\", 1, \"float-end\"], [1, \"text-small\"], [\"color\", \"dark\"], [1, \"bold\", \"no-margin\"], [1, \"rating\", 3, \"rate\", \"readOnly\", \"max\", \"theme\"], [1, \"text-medium\", \"no-margin\"], [3, \"ionInfinite\"]], template: function ReviewListPage_Template(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"Vb\" /* ɵɵelementStart */](0, \"ion-header\", 0);\r\n                core[\"Vb\" /* ɵɵelementStart */](1, \"ion-toolbar\", 1);\r\n                core[\"Vb\" /* ɵɵelementStart */](2, \"ion-buttons\", 2);\r\n                core[\"Qb\" /* ɵɵelement */](3, \"ion-back-button\");\r\n                core[\"Ub\" /* ɵɵelementEnd */]();\r\n                core[\"Vb\" /* ɵɵelementStart */](4, \"ion-title\");\r\n                core[\"Ec\" /* ɵɵtemplate */](5, ReviewListPage_span_5_Template, 3, 4, \"span\", 3);\r\n                core[\"Ub\" /* ɵɵelementEnd */]();\r\n                core[\"Ub\" /* ɵɵelementEnd */]();\r\n                core[\"Ub\" /* ɵɵelementEnd */]();\r\n                core[\"Vb\" /* ɵɵelementStart */](6, \"ion-content\", 4, 5);\r\n                core[\"Vb\" /* ɵɵelementStart */](8, \"ion-refresher\", 6);\r\n                core[\"dc\" /* ɵɵlistener */](\"ionRefresh\", function ReviewListPage_Template_ion_refresher_ionRefresh_8_listener($event) { return ctx.onReload($event); });\r\n                core[\"Qb\" /* ɵɵelement */](9, \"ion-refresher-content\", 7);\r\n                core[\"gc\" /* ɵɵpipe */](10, \"translate\");\r\n                core[\"gc\" /* ɵɵpipe */](11, \"translate\");\r\n                core[\"Ub\" /* ɵɵelementEnd */]();\r\n                core[\"Ec\" /* ɵɵtemplate */](12, ReviewListPage_empty_view_12_Template, 2, 3, \"empty-view\", 8);\r\n                core[\"Ec\" /* ɵɵtemplate */](13, ReviewListPage_empty_view_13_Template, 2, 3, \"empty-view\", 9);\r\n                core[\"Vb\" /* ɵɵelementStart */](14, \"ion-grid\", 10);\r\n                core[\"Vb\" /* ɵɵelementStart */](15, \"ion-row\", 11);\r\n                core[\"Vb\" /* ɵɵelementStart */](16, \"ion-col\", 12);\r\n                core[\"Ec\" /* ɵɵtemplate */](17, ReviewListPage_section_17_Template, 2, 1, \"section\", 3);\r\n                core[\"Ec\" /* ɵɵtemplate */](18, ReviewListPage_ion_list_18_Template, 2, 2, \"ion-list\", 13);\r\n                core[\"Ub\" /* ɵɵelementEnd */]();\r\n                core[\"Ub\" /* ɵɵelementEnd */]();\r\n                core[\"Ub\" /* ɵɵelementEnd */]();\r\n                core[\"Ec\" /* ɵɵtemplate */](19, ReviewListPage_ion_infinite_scroll_19_Template, 2, 0, \"ion-infinite-scroll\", 14);\r\n                core[\"Ub\" /* ɵɵelementEnd */]();\r\n            }\r\n            if (rf & 2) {\r\n                core[\"Db\" /* ɵɵadvance */](5);\r\n                core[\"lc\" /* ɵɵproperty */](\"ngIf\", ctx.params == null ? null : ctx.params.place == null ? null : ctx.params.place.title);\r\n                core[\"Db\" /* ɵɵadvance */](4);\r\n                core[\"mc\" /* ɵɵpropertyInterpolate */](\"pullingText\", core[\"hc\" /* ɵɵpipeBind1 */](10, 8, \"PULL_TO_REFRESH\"));\r\n                core[\"mc\" /* ɵɵpropertyInterpolate */](\"refreshingText\", core[\"hc\" /* ɵɵpipeBind1 */](11, 10, \"REFRESHING\"));\r\n                core[\"Db\" /* ɵɵadvance */](3);\r\n                core[\"lc\" /* ɵɵproperty */](\"ngIf\", ctx.isErrorViewVisible);\r\n                core[\"Db\" /* ɵɵadvance */](1);\r\n                core[\"lc\" /* ɵɵproperty */](\"ngIf\", ctx.isEmptyViewVisible);\r\n                core[\"Db\" /* ɵɵadvance */](4);\r\n                core[\"lc\" /* ɵɵproperty */](\"ngIf\", ctx.isLoadingViewVisible);\r\n                core[\"Db\" /* ɵɵadvance */](1);\r\n                core[\"lc\" /* ɵɵproperty */](\"ngIf\", ctx.isContentViewVisible);\r\n                core[\"Db\" /* ɵɵadvance */](1);\r\n                core[\"lc\" /* ɵɵproperty */](\"ngIf\", ctx.isContentViewVisible);\r\n            }\r\n        }, directives: [ionic_angular[\"w\" /* IonHeader */], ionic_angular[\"db\" /* IonToolbar */], ionic_angular[\"l\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"bb\" /* IonTitle */], common[\"m\" /* NgIf */], ionic_angular[\"r\" /* IonContent */], ionic_angular[\"K\" /* IonRefresher */], ionic_angular[\"L\" /* IonRefresherContent */], ionic_angular[\"v\" /* IonGrid */], ionic_angular[\"O\" /* IonRow */], ionic_angular[\"q\" /* IonCol */], empty_view[\"a\" /* EmptyView */], common[\"l\" /* NgForOf */], ngx_skeleton_loader[\"a\" /* NgxSkeletonLoaderComponent */], ionic_angular[\"F\" /* IonList */], ionic_angular[\"B\" /* IonItem */], ionic_angular[\"g\" /* IonAvatar */], ng_lazyload_image[\"b\" /* LazyLoadImageDirective */], ionic_angular[\"E\" /* IonLabel */], ionic_angular[\"Y\" /* IonText */], ngx_bar_rating[\"a\" /* BarRating */], ionic_angular[\"y\" /* IonInfiniteScroll */], ionic_angular[\"z\" /* IonInfiniteScrollContent */]], pipes: [ngx_translate_core[\"c\" /* TranslatePipe */], common[\"f\" /* DatePipe */]], styles: [\"ion-avatar[_ngcontent-%COMP%]{margin:0 12px 0 0!important}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:var(--ion-color-dark)}ul[_ngcontent-%COMP%]{margin:4px 0;padding:0}ul.rating[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0!important;background:none;color:var(--ion-color-primary)}.skeleton-item[_ngcontent-%COMP%]{width:auto;height:auto;margin:10px auto;padding:10px}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:inline-flex;width:100%;height:auto;flex:1}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:100px;height:90px}.skeleton-item[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;padding:10px;height:80px}\"], data: { animation: [\r\n                Object(animations[\"l\" /* trigger */])('staggerIn', [\r\n                    Object(animations[\"k\" /* transition */])('* => *', [\r\n                        Object(animations[\"f\" /* query */])(':enter', Object(animations[\"j\" /* style */])({ opacity: 0, transform: `translate3d(0,10px,0)` }), { optional: true }),\r\n                        Object(animations[\"f\" /* query */])(':enter', Object(animations[\"h\" /* stagger */])('100ms', [Object(animations[\"e\" /* animate */])('300ms', Object(animations[\"j\" /* style */])({ opacity: 1, transform: `translate3d(0,0,0)` }))]), { optional: true })\r\n                    ])\r\n                ])\r\n            ] } });\r\n    return ReviewListPage;\r\n})();\r\n\n// EXTERNAL MODULE: ./src/app/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"d2mR\");\n\n// CONCATENATED MODULE: ./src/app/pages/review-list/review-list.module.ts\n\r\n\r\n\r\n\r\n\r\nlet review_list_module_ReviewListPageModule = /*@__PURE__*/ (() => {\r\n    class ReviewListPageModule {\r\n    }\r\n    ReviewListPageModule.ɵmod = core[\"Nb\" /* ɵɵdefineNgModule */]({ type: ReviewListPageModule });\r\n    ReviewListPageModule.ɵinj = core[\"Mb\" /* ɵɵdefineInjector */]({ factory: function ReviewListPageModule_Factory(t) { return new (t || ReviewListPageModule)(); }, imports: [[\r\n                shared_module[\"a\" /* SharedModule */],\r\n                router[\"j\" /* RouterModule */].forChild([\r\n                    {\r\n                        path: '',\r\n                        component: review_list_ReviewListPage\r\n                    }\r\n                ])\r\n            ]] });\r\n    return ReviewListPageModule;\r\n})();\r\n\n\n/***/ })\n\n}]);","inputSourceMap":null}