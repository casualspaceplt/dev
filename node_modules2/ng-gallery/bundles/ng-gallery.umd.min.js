!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@angular/platform-browser"),require("@angular/animations"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng-gallery",["exports","@angular/core","rxjs","rxjs/operators","@angular/platform-browser","@angular/animations","@angular/common"],e):e((t=t||self)["ng-gallery"]={},t.ng.core,t.rxjs,t.rxjs.operators,t.ng.platformBrowser,t.ng.animations,t.ng.common)}(this,(function(t,e,i,n,r,o,a){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */Object.create;function s(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}var c,p,g,h,u,d,m,y,f,b;Object.create;(c=t.GalleryAction||(t.GalleryAction={})).INITIALIZED="initialized",c.ITEMS_CHANGED="itemsChanged",c.INDEX_CHANGED="indexChanged",c.PLAY="play",c.STOP="stop",(p=t.ImageSize||(t.ImageSize={})).Cover="cover",p.Contain="contain",(g=t.LoadingStrategy||(t.LoadingStrategy={})).Preload="preload",g.Lazy="lazy",g.Default="default",(h=t.ThumbnailsPosition||(t.ThumbnailsPosition={})).Top="top",h.Left="left",h.Right="right",h.Bottom="bottom",(u=t.ImageLoaderMode||(t.ImageLoaderMode={})).Determinate="determinate",u.Indeterminate="indeterminate",(d=t.DotsPosition||(t.DotsPosition={})).Top="top",d.Bottom="bottom",(m=t.CounterPosition||(t.CounterPosition={})).Top="top",m.Bottom="bottom",(y=t.ThumbnailsMode||(t.ThumbnailsMode={})).Free="free",y.Strict="strict",(f=t.SlidingDirection||(t.SlidingDirection={})).Horizontal="horizontal",f.Vertical="vertical",(b=t.GalleryItemType||(t.GalleryItemType={})).Image="image",b.Video="video",b.Youtube="youtube",b.Iframe="iframe";var v={action:t.GalleryAction.INITIALIZED,isPlaying:!1,hasNext:!1,hasPrev:!1,currIndex:0,items:[]},I={nav:!0,loop:!0,zoomOut:0,dots:!1,thumb:!0,dotsSize:30,counter:!0,gestures:!0,autoPlay:!1,thumbWidth:120,thumbHeight:90,panSensitivity:25,disableThumb:!1,playerInterval:3e3,imageSize:t.ImageSize.Contain,thumbMode:t.ThumbnailsMode.Strict,dotsPosition:t.DotsPosition.Bottom,counterPosition:t.CounterPosition.Top,thumbPosition:t.ThumbnailsPosition.Bottom,loadingStrategy:t.LoadingStrategy.Default,slidingDirection:t.SlidingDirection.Horizontal,navIcon:'<?xml version="1.0" encoding="UTF-8"?><svg width="512px" height="512px" enable-background="new 0 0 240.823 240.823" version="1.1" viewBox="0 0 240.823 240.823" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="m183.19 111.82l-108.3-108.26c-4.752-4.74-12.451-4.74-17.215 0-4.752 4.74-4.752 12.439 0 17.179l99.707 99.671-99.695 99.671c-4.752 4.74-4.752 12.439 0 17.191 4.752 4.74 12.463 4.74 17.215 0l108.3-108.26c4.68-4.691 4.68-12.511-0.012-17.19z" fill="#fff"/></svg>',loadingIcon:'<?xml version="1.0" encoding="UTF-8"?><svg stroke="#fff" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>'},x=function(e){this.data=e,this.type=t.GalleryItemType.Image},S=function(e){this.data=e,this.type=t.GalleryItemType.Video},C=function(e){this.data=e,this.type=t.GalleryItemType.Iframe},_=function(e){this.data=Object.assign(Object.assign({},e),{src:"https://youtube.com/embed/"+e.src,thumb:e.thumb?e.thumb:"//img.youtube.com/vi/"+e.src+"/default.jpg"}),this.type=t.GalleryItemType.Youtube},P=function(t){return n.filter((function(e){return t.indexOf(e.action)>-1}))},O=P,E=function(){function e(t,e){this.deleteInstance=e,this.itemClick=new i.Subject,this.thumbClick=new i.Subject,this.error=new i.Subject,this._state=new i.BehaviorSubject(v),this._config=new i.BehaviorSubject(t),this.state=this._state.asObservable(),this.config=this._config.asObservable()}return Object.defineProperty(e.prototype,"initialized",{get:function(){return this.state.pipe(P([t.GalleryAction.INITIALIZED]))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"itemsChanged",{get:function(){return this.state.pipe(P([t.GalleryAction.ITEMS_CHANGED]))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"indexChanged",{get:function(){return this.state.pipe(P([t.GalleryAction.INDEX_CHANGED]))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playingChanged",{get:function(){return this.state.pipe(P([t.GalleryAction.PLAY,t.GalleryAction.STOP]))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playerActions",{get:function(){return this.state.pipe(P([t.GalleryAction.PLAY,t.GalleryAction.STOP,t.GalleryAction.INDEX_CHANGED]))},enumerable:!1,configurable:!0}),e.prototype.activatePlayer=function(){var t=this;return this.playerActions.pipe(n.switchMap((function(e){return e.isPlaying?i.of({}).pipe(n.delay(t._config.value.playerInterval),n.tap((function(){return t.next()}))):i.EMPTY})))},e.prototype.setState=function(t){this._state.next(Object.assign(Object.assign({},this._state.value),t))},e.prototype.setConfig=function(t){this._config.next(Object.assign(Object.assign({},this._config.value),t))},e.prototype.add=function(e,i){var n=l(this._state.value.items,[e]);this.setState({action:t.GalleryAction.ITEMS_CHANGED,items:n,hasNext:n.length>1,currIndex:i?n.length-1:this._state.value.currIndex})},e.prototype.addImage=function(t,e){this.add(new x(t),e)},e.prototype.addVideo=function(t,e){this.add(new S(t),e)},e.prototype.addIframe=function(t,e){this.add(new C(t),e)},e.prototype.addYoutube=function(t,e){this.add(new _(t),e)},e.prototype.remove=function(e){var i=l(this._state.value.items.slice(0,e),this._state.value.items.slice(e+1,this._state.value.items.length));this.setState({action:t.GalleryAction.ITEMS_CHANGED,items:i,hasNext:i.length>1,hasPrev:e>0})},e.prototype.load=function(e){e&&this.setState({action:t.GalleryAction.ITEMS_CHANGED,items:e,hasNext:e.length>1,hasPrev:!1})},e.prototype.set=function(e){e!==this._state.value.currIndex&&this.setState({action:t.GalleryAction.INDEX_CHANGED,currIndex:e,hasNext:e<this._state.value.items.length-1,hasPrev:e>0})},e.prototype.next=function(){this._state.value.hasNext?this.set(this._state.value.currIndex+1):this._config.value.loop&&this.set(0)},e.prototype.prev=function(){this._state.value.hasPrev?this.set(this._state.value.currIndex-1):this._config.value.loop&&this.set(this._state.value.items.length-1)},e.prototype.play=function(e){e&&this.setConfig({playerInterval:e}),this.setState({action:t.GalleryAction.PLAY,isPlaying:!0})},e.prototype.stop=function(){this.setState({action:t.GalleryAction.STOP,isPlaying:!1})},e.prototype.reset=function(){this.setState(v)},e.prototype.destroy=function(){this._state.complete(),this._config.complete(),this.itemClick.complete(),this.thumbClick.complete(),this.deleteInstance()},e}(),T=new e.InjectionToken("GALLERY_CONFIG"),w=function(){function t(t){this._instances=new Map,this.config=t?Object.assign(Object.assign({},I),t):I}return t.prototype.ref=function(t,e){if(void 0===t&&(t="root"),this._instances.has(t)){var i=this._instances.get(t);return e&&i.setConfig(Object.assign(Object.assign({},this.config),e)),i}return this._instances.set(t,new E(Object.assign(Object.assign({},this.config),e),this.deleteInstance(t))).get(t)},t.prototype.destroyAll=function(){this._instances.forEach((function(t){return t.destroy()}))},t.prototype.resetAll=function(){this._instances.forEach((function(t){return t.reset()}))},t.prototype.deleteInstance=function(t){var e=this;return function(){e._instances.has(t)&&e._instances.delete(t)}},t}();w.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new w(e.ɵɵinject(T,8))},token:w,providedIn:"root"}),w.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],w.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[T]}]}]};var D=function(){function t(t){this._gallery=t,this.nav=this._gallery.config.nav,this.dots=this._gallery.config.dots,this.loop=this._gallery.config.loop,this.thumb=this._gallery.config.thumb,this.zoomOut=this._gallery.config.zoomOut,this.counter=this._gallery.config.counter,this.dotsSize=this._gallery.config.dotsSize,this.autoPlay=this._gallery.config.autoPlay,this.gestures=this._gallery.config.gestures,this.thumbWidth=this._gallery.config.thumbWidth,this.thumbHeight=this._gallery.config.thumbHeight,this.disableThumb=this._gallery.config.disableThumb,this.panSensitivity=this._gallery.config.panSensitivity,this.playerInterval=this._gallery.config.playerInterval,this.itemTemplate=this._gallery.config.itemTemplate,this.thumbTemplate=this._gallery.config.thumbTemplate,this.thumbMode=this._gallery.config.thumbMode,this.imageSize=this._gallery.config.imageSize,this.dotsPosition=this._gallery.config.dotsPosition,this.counterPosition=this._gallery.config.counterPosition,this.slidingDirection=this._gallery.config.slidingDirection,this.loadingStrategy=this._gallery.config.loadingStrategy,this.thumbPosition=this._gallery.config.thumbPosition,this.destroyRef=!0,this.skipInitConfig=!1,this.itemClick=new e.EventEmitter,this.thumbClick=new e.EventEmitter,this.playingChange=new e.EventEmitter,this.indexChange=new e.EventEmitter,this.itemsChange=new e.EventEmitter,this.error=new e.EventEmitter,this._itemClick$=i.Subscription.EMPTY,this._thumbClick$=i.Subscription.EMPTY,this._itemChange$=i.Subscription.EMPTY,this._indexChange$=i.Subscription.EMPTY,this._playingChange$=i.Subscription.EMPTY,this._playerListener$=i.Subscription.EMPTY}return t.prototype.getConfig=function(){return{nav:this.nav,dots:this.dots,loop:this.loop,thumb:this.thumb,zoomOut:this.zoomOut,counter:this.counter,autoPlay:this.autoPlay,gestures:this.gestures,dotsSize:this.dotsSize,imageSize:this.imageSize,thumbMode:this.thumbMode,thumbWidth:this.thumbWidth,thumbHeight:this.thumbHeight,disableThumb:this.disableThumb,dotsPosition:this.dotsPosition,itemTemplate:this.itemTemplate,thumbTemplate:this.thumbTemplate,thumbPosition:this.thumbPosition,panSensitivity:this.panSensitivity,playerInterval:this.playerInterval,counterPosition:this.counterPosition,loadingStrategy:this.loadingStrategy,slidingDirection:this.slidingDirection}},t.prototype.onAction=function(t){switch(t){case"next":this.galleryRef.next();break;case"prev":this.galleryRef.prev();break;default:this.galleryRef.set(t)}},t.prototype.ngOnChanges=function(t){this.galleryRef&&(this.galleryRef.setConfig(this.getConfig()),t.items&&t.items.currentValue!==t.items.previousValue&&this.load(this.items))},t.prototype.ngOnInit=function(){var t=this;this.skipInitConfig?this.galleryRef=this._gallery.ref(this.id):this.galleryRef=this._gallery.ref(this.id,this.getConfig()),this.load(this.items),this._playerListener$=this.galleryRef.activatePlayer().subscribe(),this.indexChange.observers.length&&(this._indexChange$=this.galleryRef.indexChanged.subscribe((function(e){return t.indexChange.emit(e)}))),this.itemsChange.observers.length&&(this._itemChange$=this.galleryRef.itemsChanged.subscribe((function(e){return t.itemsChange.emit(e)}))),this.playingChange.observers.length&&(this._playingChange$=this.galleryRef.playingChanged.subscribe((function(e){return t.playingChange.emit(e)}))),this.autoPlay&&this.play()},t.prototype.ngOnDestroy=function(){this._itemClick$.unsubscribe(),this._thumbClick$.unsubscribe(),this._itemChange$.unsubscribe(),this._indexChange$.unsubscribe(),this._playingChange$.unsubscribe(),this._playerListener$.unsubscribe(),this.destroyRef&&this.galleryRef.destroy()},t.prototype.onItemClick=function(t){this.itemClick.emit(t),this.galleryRef.itemClick.next(t)},t.prototype.onThumbClick=function(t){this.galleryRef.set(t),this.thumbClick.emit(t),this.galleryRef.thumbClick.next(t)},t.prototype.onError=function(t){this.error.emit(t),this.galleryRef.error.next(t)},t.prototype.load=function(t){this.galleryRef.load(t)},t.prototype.add=function(t,e){this.galleryRef.add(t,e)},t.prototype.addImage=function(t,e){this.add(new x(t),e)},t.prototype.addVideo=function(t,e){this.add(new S(t),e)},t.prototype.addIframe=function(t,e){this.add(new C(t),e)},t.prototype.addYoutube=function(t,e){this.add(new _(t),e)},t.prototype.remove=function(t){this.galleryRef.remove(t)},t.prototype.next=function(){this.galleryRef.next()},t.prototype.prev=function(){this.galleryRef.prev()},t.prototype.set=function(t){this.galleryRef.set(t)},t.prototype.reset=function(){this.galleryRef.reset()},t.prototype.play=function(t){this.galleryRef.play(t)},t.prototype.stop=function(){this.galleryRef.stop()},t}();D.decorators=[{type:e.Component,args:[{selector:"gallery",changeDetection:e.ChangeDetectionStrategy.OnPush,template:'\n    <gallery-core [state]="galleryRef.state | async"\n                  [config]="galleryRef.config | async"\n                  (action)="onAction($event)"\n                  (itemClick)="onItemClick($event)"\n                  (thumbClick)="onThumbClick($event)"\n                  (error)="onError($event)"></gallery-core>\n    <ng-content></ng-content>\n  ',styles:['::ng-deep gallery-core[dotsPosition=top] gallery-dots{top:0}::ng-deep gallery-core[dotsPosition=bottom] gallery-dots{bottom:0}::ng-deep gallery-dots{left:50%;margin:7px;position:absolute;transform:translateX(-50%)}::ng-deep .g-dot{cursor:pointer;z-index:20}::ng-deep .g-dot:hover .g-dot-inner{opacity:1}::ng-deep .g-dot-active .g-dot-inner{opacity:1;transform:scale(1.5)!important}::ng-deep .g-dot-inner{background-color:#fff;border-radius:50%;box-shadow:0 0 1px #000;height:30%;opacity:.6;transition:all .2s ease;width:30%}::ng-deep .g-dot,::ng-deep .g-dot-inner,::ng-deep gallery-dots{align-items:center;display:flex;justify-content:center}::ng-deep .g-nav-next,::ng-deep .g-nav-prev{cursor:pointer;height:40px;position:absolute;top:50%;width:30px;z-index:999}::ng-deep .g-nav-next{right:.5em;transform:translateY(-50%) perspective(1px)}::ng-deep .g-nav-prev{left:.5em;transform:translateY(-50%) perspective(1px) scale(-1)}@media only screen and (max-width:480px){::ng-deep .g-nav-next{right:.2em}::ng-deep .g-nav-prev{left:.2em}}::ng-deep .g-items-container{height:100%}::ng-deep .g-slider{position:absolute;transition:transform .4s cubic-bezier(.5,0,.5,1)}::ng-deep gallery-core[slidingDirection=horizontal] .g-slider{flex-direction:row}::ng-deep gallery-core[slidingDirection=vertical] .g-slider{flex-direction:column}::ng-deep gallery-thumbs{display:block;overflow:unset;z-index:1}::ng-deep .g-thumbs-container{display:flex;height:100%;left:0;overflow:unset;position:relative;top:0;width:100%;z-index:206}::ng-deep gallery-core[disableThumb=true] gallery-thumb{cursor:default}::ng-deep gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider,::ng-deep gallery-core[thumbPosition=top] gallery-thumbs .g-slider{flex-direction:row;left:50%;top:0}::ng-deep gallery-core[thumbPosition=bottom] gallery-thumb,::ng-deep gallery-core[thumbPosition=top] gallery-thumb{padding:1px 0 1px 1px}::ng-deep gallery-core[thumbPosition=left] gallery-thumbs .g-slider,::ng-deep gallery-core[thumbPosition=right] gallery-thumbs .g-slider{flex-direction:column;left:0;top:50%}::ng-deep gallery-core[thumbPosition=left] gallery-thumb,::ng-deep gallery-core[thumbPosition=right] gallery-thumb{padding:0 1px 1px}::ng-deep gallery-core[thumbPosition=top]{flex-direction:column}::ng-deep gallery-core[thumbPosition=left]{flex-direction:row}::ng-deep gallery-core[thumbPosition=right]{flex-direction:row-reverse}::ng-deep gallery-core[thumbPosition=bottom]{flex-direction:column-reverse}::ng-deep gallery-thumb.g-active-thumb .g-thumb-loading{background-color:#464646}::ng-deep .g-thumb-loading{background-color:#262626;height:100%;overflow:hidden;position:relative}::ng-deep .g-thumb-loading:before{-webkit-animation:phAnimation .8s linear infinite;animation:phAnimation .8s linear infinite;background:linear-gradient(90deg,hsla(0,0%,100%,0) 46%,hsla(0,0%,100%,.35) 50%,hsla(0,0%,100%,0) 54%) 50% 50%;bottom:0;content:"";left:50%;margin-left:-250%;position:absolute;right:0;top:0;width:500%;z-index:1}@-webkit-keyframes phAnimation{0%{transform:translate3d(-30%,0,0)}to{transform:translate3d(30%,0,0)}}@keyframes phAnimation{0%{transform:translate3d(-30%,0,0)}to{transform:translate3d(30%,0,0)}}::ng-deep gallery-core[counterPosition=top] .g-counter{border-bottom-left-radius:4px;border-bottom-right-radius:4px;top:0}::ng-deep gallery-core[counterPosition=bottom] .g-counter{border-top-left-radius:4px;border-top-right-radius:4px;bottom:0}::ng-deep .g-counter{background-color:rgba(0,0,0,.5);color:#fff;font-size:12px;left:50%;padding:4px 10px;position:absolute;transform:translateX(-50%) perspective(1px);z-index:50}::ng-deep gallery[gallerize] gallery-item{cursor:pointer}::ng-deep gallery-item,::ng-deep gallery-thumb{display:block;height:100%;overflow:hidden;position:relative;width:100%}::ng-deep gallery-item h2,::ng-deep gallery-item h4,::ng-deep gallery-thumb h2,::ng-deep gallery-thumb h4{color:coral;margin:0}::ng-deep gallery-item h2,::ng-deep gallery-thumb h2{font-size:3.5em;margin-bottom:.3em}::ng-deep gallery-item h4,::ng-deep gallery-thumb h4{font-size:1.6em}::ng-deep gallery-item{z-index:10}::ng-deep gallery-item iframe,::ng-deep gallery-item video{height:100%;position:absolute;width:100%}::ng-deep gallery-thumb{cursor:pointer;opacity:.5;transition:opacity .3s cubic-bezier(.5,0,.5,1)}::ng-deep gallery-thumb.g-active-thumb{opacity:1}::ng-deep .g-image-item{background-position:50%;background-repeat:no-repeat;background-size:cover;height:100%;width:100%}::ng-deep .g-image-error-message,::ng-deep .g-template{align-items:center;bottom:0;color:#fff;display:flex;flex-direction:column;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:10}::ng-deep .g-loading{height:80px;left:50%;position:absolute;top:50%;transform:translate3d(-50%,-50%,0);width:80px}::ng-deep gallery-core[imageSize=contain] gallery-slider .g-image-item{background-size:contain}::ng-deep gallery-image{align-items:center;display:flex;height:100%;justify-content:center}::ng-deep gallery{background-color:#000;display:block;height:500px;overflow:hidden;position:relative;z-index:1}::ng-deep gallery *{box-sizing:border-box}::ng-deep gallery,::ng-deep gallery-core{overflow:hidden;position:relative}::ng-deep .g-box,::ng-deep .g-slider,::ng-deep gallery-core{display:flex;height:100%;width:100%}::ng-deep gallery[fluid]{left:50%;transform:translateX(-50vw);width:100vw}::ng-deep gallery[fluid][fluid=false]{left:auto;transform:none;width:auto}::ng-deep .g-no-transition{transition:unset!important}::ng-deep .g-box,::ng-deep gallery-slider{display:flex;flex:1;flex-direction:column;height:100%;order:1;overflow:hidden;position:relative}::ng-deep .g-btn-close svg,::ng-deep gallery-nav svg{-webkit-filter:drop-shadow(0 0 1px #000);filter:drop-shadow(0 0 1px black);height:100%;opacity:.6;transition:opacity .2s linear;width:100%}::ng-deep .g-btn-close svg:hover,::ng-deep gallery-nav svg:hover{opacity:1}']}]}],D.ctorParameters=function(){return[{type:w}]},D.propDecorators={id:[{type:e.Input}],items:[{type:e.Input}],nav:[{type:e.Input}],dots:[{type:e.Input}],loop:[{type:e.Input}],thumb:[{type:e.Input}],zoomOut:[{type:e.Input}],counter:[{type:e.Input}],dotsSize:[{type:e.Input}],autoPlay:[{type:e.Input}],gestures:[{type:e.Input}],thumbWidth:[{type:e.Input}],thumbHeight:[{type:e.Input}],disableThumb:[{type:e.Input}],panSensitivity:[{type:e.Input}],playerInterval:[{type:e.Input}],itemTemplate:[{type:e.Input}],thumbTemplate:[{type:e.Input}],thumbMode:[{type:e.Input}],imageSize:[{type:e.Input}],dotsPosition:[{type:e.Input}],counterPosition:[{type:e.Input}],slidingDirection:[{type:e.Input}],loadingStrategy:[{type:e.Input}],thumbPosition:[{type:e.Input}],destroyRef:[{type:e.Input}],skipInitConfig:[{type:e.Input}],itemClick:[{type:e.Output}],thumbClick:[{type:e.Output}],playingChange:[{type:e.Output}],indexChange:[{type:e.Output}],itemsChange:[{type:e.Output}],error:[{type:e.Output}]};var k=function(){function t(t){this._sanitizer=t}return Object.defineProperty(t.prototype,"src",{set:function(t){this.iframeSrc=this._sanitizer.bypassSecurityTrustResourceUrl(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pauseVideo",{set:function(t){this.iframe.nativeElement&&(t&&(this.iframe.nativeElement.src=null))},enumerable:!1,configurable:!0}),t}();k.decorators=[{type:e.Component,args:[{selector:"gallery-iframe",changeDetection:e.ChangeDetectionStrategy.OnPush,template:'\n    <iframe #iframe\n            frameborder="0"\n            allowfullscreen\n            [attr.allow]="autoplay ? \'autoplay\' : \'\'"\n            [src]="iframeSrc">\n    </iframe>\n  '}]}],k.ctorParameters=function(){return[{type:r.DomSanitizer}]},k.propDecorators={src:[{type:e.Input,args:["src"]}],pauseVideo:[{type:e.Input,args:["pause"]}],autoplay:[{type:e.Input}],iframe:[{type:e.ViewChild,args:["iframe",{static:!0}]}]};var z=function(){function t(t){this._sanitizer=t,this._state=new i.BehaviorSubject("loading"),this.state=this._state.asObservable(),this.progress=0,this.error=new e.EventEmitter}return Object.defineProperty(t.prototype,"imageLoadSuccess",{get:function(){return!!this.imageUrl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageLoadFailed",{get:function(){return!!this.loadError},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.loadingIcon&&(this.loaderTemplate=this._sanitizer.bypassSecurityTrustHtml(this.loadingIcon)),this.loadingError&&(this.errorTemplate=this._sanitizer.bypassSecurityTrustHtml(this.loadingError))},t.prototype.ngOnDestroy=function(){this._state.complete()},t.prototype.onProgress=function(t){var e=t.loaded,i=t.total;this.progress=100*e/i},t.prototype.onLoaded=function(t){this.imageUrl=this._sanitizer.bypassSecurityTrustStyle('url("'+t+'")'),this._state.next("success")},t.prototype.onError=function(t){this.loadError=t,this._state.next("failed"),this.error.emit(t)},t}();z.decorators=[{type:e.Component,args:[{selector:"gallery-image",changeDetection:e.ChangeDetectionStrategy.OnPush,animations:[o.trigger("fadeIn",[o.transition(":enter",[o.style({opacity:0}),o.animate("300ms ease-in",o.style({opacity:1}))])])],template:'\n    <ng-container [lazyImage]="src"\n                  (progress)="onProgress($event)"\n                  (loaded)="onLoaded($event)"\n                  (error)="onError($event)"\n                  [ngSwitch]="state | async">\n\n      <div *ngSwitchCase="\'success\'"\n           @fadeIn\n           class="g-image-item"\n           [style.backgroundImage]="imageUrl">\n      </div>\n\n      <div *ngSwitchCase="\'failed\'"\n           class="g-image-error-message">\n        <div *ngIf="errorTemplate; else defaultError"\n             [innerHTML]="errorTemplate"></div>\n        <ng-template #defaultError>\n          <ng-container *ngIf="isThumbnail; else isLarge">\n            <h4>⚠</h4>\n          </ng-container>\n          <ng-template #isLarge>\n            <h2>⚠</h2>\n            <p>Unable to load the image!</p>\n          </ng-template>\n        </ng-template>\n      </div>\n\n      <ng-container *ngSwitchCase="\'loading\'">\n        <div *ngIf="loaderTemplate; else defaultLoader"\n             class="g-loading"\n             [innerHTML]="loaderTemplate">\n        </div>\n        <ng-template #defaultLoader>\n          <div *ngIf="isThumbnail" class="g-thumb-loading"></div>\n        </ng-template>\n      </ng-container>\n    </ng-container>\n  '}]}],z.ctorParameters=function(){return[{type:r.DomSanitizer}]},z.propDecorators={isThumbnail:[{type:e.Input}],src:[{type:e.Input}],loadingIcon:[{type:e.Input}],loadingError:[{type:e.Input}],error:[{type:e.Output}],imageLoadSuccess:[{type:e.HostBinding,args:["class.g-image-loaded"]}],imageLoadFailed:[{type:e.HostBinding,args:["class.g-image-error"]}]};var H=function(){function t(){this.error=new e.EventEmitter}return Object.defineProperty(t.prototype,"pauseVideo",{set:function(t){if(this.video.nativeElement){var e=this.video.nativeElement;t&&!e.paused&&e.pause()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playVideo",{set:function(t){if(this.video.nativeElement){var e=this.video.nativeElement;t&&e.play()}},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.src instanceof Array?this.videoSources=l(this.src):this.videoSources=[{url:this.src}],this.controls="boolean"!=typeof this.controlsEnabled||this.controlsEnabled},t}();H.decorators=[{type:e.Component,args:[{selector:"gallery-video",changeDetection:e.ChangeDetectionStrategy.OnPush,template:'\n    <video #video [controls]="controls" [poster]="poster" (error)="error.emit($event)">\n      <source *ngFor="let src of videoSources" [src]="src?.url" [type]="src?.type"/>\n    </video>\n  '}]}],H.propDecorators={src:[{type:e.Input}],poster:[{type:e.Input}],controlsEnabled:[{type:e.Input,args:["controls"]}],pauseVideo:[{type:e.Input,args:["pause"]}],playVideo:[{type:e.Input,args:["play"]}],error:[{type:e.Output}],video:[{type:e.ViewChild,args:["video",{static:!0}]}]};var j=function(){function t(t){this._sanitizer=t,this.action=new e.EventEmitter}return t.prototype.ngOnInit=function(){this.navIcon=this._sanitizer.bypassSecurityTrustHtml(this.config.navIcon)},t}();j.decorators=[{type:e.Component,args:[{selector:"gallery-nav",changeDetection:e.ChangeDetectionStrategy.OnPush,template:'\n    <i *ngIf="config.loop || state.hasPrev"\n       class="g-nav-prev"\n       aria-label="Previous"\n       (tapClick)="action.emit(\'prev\')"\n       [innerHtml]="navIcon"></i>\n\n    <i *ngIf="config.loop || state.hasNext"\n       class="g-nav-next"\n       aria-label="Next"\n       (tapClick)="action.emit(\'next\')"\n       [innerHtml]="navIcon"></i>\n  '}]}],j.ctorParameters=function(){return[{type:r.DomSanitizer}]},j.propDecorators={state:[{type:e.Input}],config:[{type:e.Input}],action:[{type:e.Output}]};var A=function(){function t(){this.action=new e.EventEmitter,this.itemClick=new e.EventEmitter,this.thumbClick=new e.EventEmitter,this.error=new e.EventEmitter}return Object.defineProperty(t.prototype,"thumbPosition",{get:function(){return this.config.thumbPosition},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"slidingDirection",{get:function(){return this.config.slidingDirection},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disableThumb",{get:function(){return this.config.disableThumb},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageSize",{get:function(){return this.config.imageSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dotsPosition",{get:function(){return this.config.dotsPosition},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"counterPosition",{get:function(){return this.config.counterPosition},enumerable:!1,configurable:!0}),t}();A.decorators=[{type:e.Component,args:[{selector:"gallery-core",changeDetection:e.ChangeDetectionStrategy.OnPush,template:'\n    <gallery-thumbs *ngIf="config.thumb"\n                    [state]="state"\n                    [config]="config"\n                    (action)="action.emit($event)"\n                    (thumbClick)="thumbClick.emit($event)">\n    </gallery-thumbs>\n    <div class="g-box">\n      <gallery-slider [state]="state"\n                      [config]="config"\n                      (action)="action.emit($event)"\n                      (itemClick)="itemClick.emit($event)"\n                      (error)="error.emit($event)">\n\n        <gallery-nav *ngIf="config.nav && state.items.length > 1"\n                     [state]="state"\n                     [config]="config"\n                     (action)="action.emit($event)">\n        </gallery-nav>\n\n      </gallery-slider>\n\n      <gallery-dots *ngIf="config.dots"\n                    [state]="state"\n                    [config]="config"\n                    (action)="action.emit($event)">\n      </gallery-dots>\n\n      <gallery-counter *ngIf="config.counter"\n                       [state]="state">\n      </gallery-counter>\n    </div>\n  '}]}],A.propDecorators={state:[{type:e.Input}],config:[{type:e.Input}],action:[{type:e.Output}],itemClick:[{type:e.Output}],thumbClick:[{type:e.Output}],error:[{type:e.Output}],thumbPosition:[{type:e.HostBinding,args:["attr.thumbPosition"]}],slidingDirection:[{type:e.HostBinding,args:["attr.slidingDirection"]}],disableThumb:[{type:e.HostBinding,args:["attr.disableThumb"]}],imageSize:[{type:e.HostBinding,args:["attr.imageSize"]}],dotsPosition:[{type:e.HostBinding,args:["attr.dotsPosition"]}],counterPosition:[{type:e.HostBinding,args:["attr.counterPosition"]}]};var R=function(){this.action=new e.EventEmitter};R.decorators=[{type:e.Component,args:[{selector:"gallery-dots",changeDetection:e.ChangeDetectionStrategy.OnPush,template:'\n    <div class="g-dot"\n         *ngFor="let item of state.items; let i = index"\n         [class.g-dot-active]="i === state.currIndex"\n         [style.width.px]="config?.dotsSize"\n         [style.height.px]="config?.dotsSize"\n         (tapClick)="action.emit(i)">\n      <div class="g-dot-inner"></div>\n    </div>\n  '}]}],R.propDecorators={state:[{type:e.Input}],config:[{type:e.Input}],action:[{type:e.Output}]};var L=function(){function r(t,r){var o=this;this._el=t,this._zone=r,this._slidingWorker$=new i.BehaviorSubject({value:0,active:!1}),this._freeModeCurrentOffset=0,this.action=new e.EventEmitter,this.thumbClick=new e.EventEmitter,this.error=new e.EventEmitter,this.sliderState$=this._slidingWorker$.pipe(n.map((function(t){return{style:o.getSliderStyles(t),active:t.active}})))}return r.prototype.ngOnChanges=function(){this.updateSlider({value:0,active:!1}),this._freeModeCurrentOffset=0},r.prototype.ngOnInit=function(){var e=this;if(this.config.gestures&&!this.config.disableThumb&&"undefined"!=typeof Hammer){var i=void 0;switch(this.config.thumbPosition){case t.ThumbnailsPosition.Right:case t.ThumbnailsPosition.Left:i=Hammer.DIRECTION_VERTICAL;break;case t.ThumbnailsPosition.Top:case t.ThumbnailsPosition.Bottom:i=Hammer.DIRECTION_HORIZONTAL}this._hammer=new Hammer(this._el.nativeElement),this._hammer.get("pan").set({direction:i}),this._zone.runOutsideAngular((function(){switch(e.config.thumbMode){case t.ThumbnailsMode.Strict:e._hammer.on("pan",(function(t){return e.strictMode(t)}));break;case t.ThumbnailsMode.Free:e._hammer.on("pan",(function(t){return e.freeMode(t)}))}}))}},r.prototype.ngOnDestroy=function(){this._hammer&&this._hammer.destroy()},r.prototype.strictMode=function(e){switch(this.config.thumbPosition){case t.ThumbnailsPosition.Right:case t.ThumbnailsPosition.Left:this.updateSlider({value:e.deltaY,active:!0}),e.isFinal&&(this.updateSlider({value:0,active:!1}),this.verticalPan(e));break;case t.ThumbnailsPosition.Top:case t.ThumbnailsPosition.Bottom:this.updateSlider({value:e.deltaX,active:!0}),e.isFinal&&(this.updateSlider({value:0,active:!1}),this.horizontalPan(e))}},r.prototype.freeMode=function(e){switch(this.config.thumbPosition){case t.ThumbnailsPosition.Right:case t.ThumbnailsPosition.Left:this.updateSlider({value:this._freeModeCurrentOffset+e.deltaY,active:!0}),e.isFinal&&(this.minFreeScrollExceeded(e.deltaY,this.config.thumbWidth,this.config.thumbHeight)?this._freeModeCurrentOffset=-(this.state.items.length-1-this.state.currIndex)*this.config.thumbHeight:this.maxFreeScrollExceeded(e.deltaY,this.config.thumbHeight,this.config.thumbWidth)?this._freeModeCurrentOffset=this.state.currIndex*this.config.thumbHeight:this._freeModeCurrentOffset+=e.deltaY,this.updateSlider({value:this._freeModeCurrentOffset,active:!1}));break;case t.ThumbnailsPosition.Top:case t.ThumbnailsPosition.Bottom:this.updateSlider({value:this._freeModeCurrentOffset+e.deltaX,active:!0}),e.isFinal&&(this.minFreeScrollExceeded(e.deltaX,this.config.thumbHeight,this.config.thumbWidth)?this._freeModeCurrentOffset=-(this.state.items.length-1-this.state.currIndex)*this.config.thumbWidth:this.maxFreeScrollExceeded(e.deltaX,this.config.thumbWidth,this.config.thumbHeight)?this._freeModeCurrentOffset=this.state.currIndex*this.config.thumbWidth:this._freeModeCurrentOffset+=e.deltaX,this.updateSlider({value:this._freeModeCurrentOffset,active:!1}))}},r.prototype.minFreeScrollExceeded=function(t,e,i){return-(this._freeModeCurrentOffset+t-e/2)>(this.state.items.length-this.state.currIndex)*i},r.prototype.maxFreeScrollExceeded=function(t,e,i){return this._freeModeCurrentOffset+t>this.state.currIndex*e+i/2},r.prototype.getSliderStyles=function(e){switch(this.config.thumbPosition){case t.ThumbnailsPosition.Top:case t.ThumbnailsPosition.Bottom:return this.width="100%",this.height=this.config.thumbHeight+"px",{transform:"translate3d("+(-this.state.currIndex*this.config.thumbWidth-(this.config.thumbWidth/2-e.value))+"px, 0, 0)",width:this.state.items.length*this.config.thumbWidth+"px",height:"100%"};case t.ThumbnailsPosition.Left:case t.ThumbnailsPosition.Right:return this.width=this.config.thumbWidth+"px",this.height="100%",{transform:"translate3d(0, "+(-this.state.currIndex*this.config.thumbHeight-(this.config.thumbHeight/2-e.value))+"px, 0)",width:"100%",height:this.state.items.length*this.config.thumbHeight+"px"}}},r.prototype.verticalPan=function(t){t.direction&Hammer.DIRECTION_UP&&t.offsetDirection&Hammer.DIRECTION_VERTICAL&&(t.velocityY>.3?this.prev():t.velocityY<-.3||t.deltaY/2<=-this.config.thumbHeight*this.state.items.length/this.config.panSensitivity?this.next():t.deltaY/2>=this.config.thumbHeight*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))},r.prototype.horizontalPan=function(t){t.direction&Hammer.DIRECTION_HORIZONTAL&&t.offsetDirection&Hammer.DIRECTION_HORIZONTAL&&(t.velocityX>.3?this.prev():t.velocityX<-.3||t.deltaX/2<=-this.config.thumbWidth*this.state.items.length/this.config.panSensitivity?this.next():t.deltaX/2>=this.config.thumbWidth*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))},r.prototype.next=function(){this.action.emit("next")},r.prototype.prev=function(){this.action.emit("prev")},r.prototype.updateSlider=function(t){var e=Object.assign(Object.assign({},this._slidingWorker$.value),t);this._slidingWorker$.next(e)},r}();L.decorators=[{type:e.Component,args:[{selector:"gallery-thumbs",changeDetection:e.ChangeDetectionStrategy.OnPush,template:'\n    <div *ngIf="sliderState$ | async; let sliderState"\n         class="g-thumbs-container">\n      <div class="g-slider"\n           [class.g-no-transition]="sliderState.active"\n           [ngStyle]="sliderState.style">\n\n        <gallery-thumb *ngFor="let item of state.items;let i = index"\n                       [type]="item.type"\n                       [config]="config"\n                       [data]="item.data"\n                       [currIndex]="state.currIndex"\n                       [index]="i"\n                       [tapClickDisabled]="config.disableThumb"\n                       (tapClick)="thumbClick.emit(i)"\n                       (error)="error.emit({itemIndex: i, error: $event})"></gallery-thumb>\n      </div>\n    </div>\n  '}]}],L.ctorParameters=function(){return[{type:e.ElementRef},{type:e.NgZone}]},L.propDecorators={state:[{type:e.Input}],config:[{type:e.Input}],action:[{type:e.Output}],thumbClick:[{type:e.Output}],error:[{type:e.Output}],height:[{type:e.HostBinding,args:["style.height"]}],width:[{type:e.HostBinding,args:["style.width"]}]};var M=function(){function r(t,r,o){var a=this;this._el=t,this._zone=r,this.platform=o,this._slidingWorker$=new i.BehaviorSubject({value:0,active:!1}),this.action=new e.EventEmitter,this.itemClick=new e.EventEmitter,this.error=new e.EventEmitter,this.sliderState$=this._slidingWorker$.pipe(n.map((function(t){return{style:a.getSliderStyles(t),active:t.active}})))}return Object.defineProperty(r.prototype,"zoom",{get:function(){return{transform:"perspective(50px) translate3d(0, 0, "+-this.config.zoomOut+"px)"}},enumerable:!1,configurable:!0}),r.prototype.ngOnChanges=function(){this.updateSlider({value:0,active:!1})},r.prototype.ngOnInit=function(){var e=this;if(this.config.gestures&&"undefined"!=typeof Hammer){var r=this.config.slidingDirection===t.SlidingDirection.Horizontal?Hammer.DIRECTION_HORIZONTAL:Hammer.DIRECTION_VERTICAL;this._hammer=new Hammer(this._el.nativeElement),this._hammer.get("pan").set({direction:r}),this._zone.runOutsideAngular((function(){e._hammer.on("pan",(function(i){switch(e.config.slidingDirection){case t.SlidingDirection.Horizontal:e.updateSlider({value:i.deltaX,active:!0}),i.isFinal&&(e.updateSlider({value:0,active:!1}),e.horizontalPan(i));break;case t.SlidingDirection.Vertical:e.updateSlider({value:i.deltaY,active:!0}),i.isFinal&&(e.updateSlider({value:0,active:!1}),e.verticalPan(i))}}))}))}a.isPlatformBrowser(this.platform)&&(this._resizeSub$=i.fromEvent(window,"resize").pipe(n.debounceTime(200),n.tap((function(){return e.updateSlider(e._slidingWorker$.value)}))).subscribe()),setTimeout((function(){return e.updateSlider({value:0,active:!1})}))},r.prototype.ngOnDestroy=function(){this._hammer&&this._hammer.destroy(),this._resizeSub$&&this._resizeSub$.unsubscribe(),this._slidingWorker$.complete()},r.prototype.getSliderStyles=function(e){switch(this.config.slidingDirection){case t.SlidingDirection.Horizontal:return{transform:"translate3d("+(-this.state.currIndex*this._el.nativeElement.offsetWidth+e.value)+"px, 0, 0)",width:"calc(100% * "+this.state.items.length+")",height:"100%"};case t.SlidingDirection.Vertical:return{transform:"translate3d(0, "+(-this.state.currIndex*this._el.nativeElement.offsetHeight+e.value)+"px, 0)",width:"100%",height:"calc(100% * "+this.state.items.length+")"}}},r.prototype.verticalPan=function(t){t.direction&Hammer.DIRECTION_UP&&t.offsetDirection&Hammer.DIRECTION_VERTICAL&&(t.velocityY>.3?this.prev():t.velocityY<-.3||t.deltaY/2<=-this._el.nativeElement.offsetHeight*this.state.items.length/this.config.panSensitivity?this.next():t.deltaY/2>=this._el.nativeElement.offsetHeight*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))},r.prototype.horizontalPan=function(t){t.direction&Hammer.DIRECTION_HORIZONTAL&&t.offsetDirection&Hammer.DIRECTION_HORIZONTAL&&(t.velocityX>.3?this.prev():t.velocityX<-.3||t.deltaX/2<=-this._el.nativeElement.offsetWidth*this.state.items.length/this.config.panSensitivity?this.next():t.deltaX/2>=this._el.nativeElement.offsetWidth*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))},r.prototype.next=function(){this.action.emit("next")},r.prototype.prev=function(){this.action.emit("prev")},r.prototype.updateSlider=function(t){var e=Object.assign(Object.assign({},this._slidingWorker$.value),t);this._slidingWorker$.next(e)},r}();M.decorators=[{type:e.Component,args:[{selector:"gallery-slider",changeDetection:e.ChangeDetectionStrategy.OnPush,template:'\n    <div *ngIf="sliderState$ | async; let sliderState"\n         class="g-items-container"\n         [ngStyle]="zoom">\n\n      <div class="g-slider"\n           [class.g-no-transition]="sliderState.active"\n           [ngStyle]="sliderState.style">\n\n        <gallery-item *ngFor="let item of state.items; let i = index"\n                      [type]="item.type"\n                      [config]="config"\n                      [data]="item.data"\n                      [currIndex]="state.currIndex"\n                      [index]="i"\n                      (tapClick)="itemClick.emit(i)"\n                      (error)="error.emit({itemIndex: i, error: $event})">\n        </gallery-item>\n\n      </div>\n    </div>\n    <ng-content></ng-content>\n  '}]}],M.ctorParameters=function(){return[{type:e.ElementRef},{type:e.NgZone},{type:Object,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]}]},M.propDecorators={state:[{type:e.Input}],config:[{type:e.Input}],action:[{type:e.Output}],itemClick:[{type:e.Output}],error:[{type:e.Output}]};var $=function(){};$.decorators=[{type:e.Component,args:[{selector:"gallery-counter",changeDetection:e.ChangeDetectionStrategy.OnPush,template:"\n    <div class=\"g-counter\">{{(state.currIndex + 1) + '/' + state.items.length}}</div>\n  "}]}],$.propDecorators={state:[{type:e.Input}]};var N=function(){function i(){this.Types=t.GalleryItemType,this.error=new e.EventEmitter}return Object.defineProperty(i.prototype,"isActive",{get:function(){return this.index===this.currIndex},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isAutoPlay",{get:function(){if(this.isActive&&(this.type===t.GalleryItemType.Video||this.type===t.GalleryItemType.Youtube))return this.data.autoplay},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"youtubeSrc",{get:function(){var e=0;this.isActive&&this.type===t.GalleryItemType.Youtube&&this.data.autoplay&&(e=1);var i=new URL(this.data.src);return i.search=new URLSearchParams(Object.assign(Object.assign({wmode:"transparent"},this.data.params),{autoplay:e})).toString(),i.href},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"load",{get:function(){switch(this.config.loadingStrategy){case t.LoadingStrategy.Preload:return!0;case t.LoadingStrategy.Lazy:return this.currIndex===this.index;default:return this.currIndex===this.index||this.currIndex===this.index-1||this.currIndex===this.index+1}},enumerable:!1,configurable:!0}),i}();N.decorators=[{type:e.Component,args:[{selector:"gallery-item",changeDetection:e.ChangeDetectionStrategy.OnPush,template:'\n    <ng-container *ngIf="load" [ngSwitch]="type">\n\n      <ng-container *ngSwitchCase="Types.Image">\n\n        <gallery-image [src]="data.src"\n                       [loadingIcon]="config.loadingIcon"\n                       [loadingError]="config.loadingError"\n                       (error)="error.emit($event)"></gallery-image>\n\n        <div class="g-template g-item-template">\n          <ng-container *ngTemplateOutlet="config.itemTemplate;\n          context: { index: this.index, currIndex: this.currIndex, type: this.type, data: this.data }">\n          </ng-container>\n        </div>\n\n      </ng-container>\n\n      <gallery-video *ngSwitchCase="Types.Video"\n                     [src]="data.src"\n                     [poster]="data.poster"\n                     [controls]="data.controls"\n                     [play]="isAutoPlay"\n                     [pause]="currIndex !== index"\n                     (error)="error.emit($event)"></gallery-video>\n\n      <gallery-iframe *ngSwitchCase="Types.Youtube"\n                      [src]="youtubeSrc"\n                      [autoplay]="isAutoPlay"\n                      [pause]="currIndex !== index"></gallery-iframe>\n\n      <gallery-iframe *ngSwitchCase="Types.Iframe"\n                      [src]="data.src"></gallery-iframe>\n\n      <ng-container *ngSwitchDefault>\n\n        <div class="g-template g-item-template">\n          <ng-container *ngTemplateOutlet="config.itemTemplate;\n          context: { index: this.index, currIndex: this.currIndex, type: this.type, data: this.data }">\n          </ng-container>\n        </div>\n\n      </ng-container>\n\n    </ng-container>\n  '}]}],N.propDecorators={config:[{type:e.Input}],index:[{type:e.Input}],currIndex:[{type:e.Input}],type:[{type:e.Input}],data:[{type:e.Input}],error:[{type:e.Output}],isActive:[{type:e.HostBinding,args:["class.g-active-item"]}]};var G=function(){function t(){this.error=new e.EventEmitter}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this.index===this.currIndex},enumerable:!1,configurable:!0}),t}();G.decorators=[{type:e.Component,args:[{selector:"gallery-thumb",changeDetection:e.ChangeDetectionStrategy.OnPush,template:'\n    <gallery-image [src]="data.thumb" \n                   mode="indeterminate"\n                   [isThumbnail]="true" \n                   [loadingIcon]="config.thumbLoadingIcon"\n                   [loadingError]="config.thumbLoadingError "\n                   (error)="error.emit($event)"></gallery-image>\n\n    <div *ngIf="config.thumbTemplate" class="g-template g-thumb-template">\n      <ng-container\n        *ngTemplateOutlet="config.thumbTemplate; context: { index: this.index, type: this.type, data: this.data }">\n      </ng-container>\n    </div>\n  '}]}],G.propDecorators={config:[{type:e.Input}],index:[{type:e.Input}],currIndex:[{type:e.Input}],type:[{type:e.Input}],data:[{type:e.Input}],error:[{type:e.Output}],isActive:[{type:e.HostBinding,args:["class.g-active-thumb"]}]};var Y=function(){function t(t){var r=this;this.document=t,this._imageLoader$=new i.Subject,this._loaderSub$=i.Subscription.EMPTY,this.loaded=new e.EventEmitter,this.error=new e.EventEmitter,this._loaderSub$=this._imageLoader$.pipe(n.switchMap((function(t){return r.nativeLoader(t)}))).subscribe()}return t.prototype.ngOnChanges=function(t){t.src&&t.src.previousValue!==t.src.currentValue&&this.loadImage(this.src)},t.prototype.ngOnDestroy=function(){this._loaderSub$.unsubscribe(),this._imageLoader$.complete()},t.prototype.loadImage=function(t){this._imageLoader$.next(t)},t.prototype.nativeLoader=function(t){var e=this,r=this.document.createElement("img");r.src=t;var o=i.fromEvent(r,"load").pipe(n.tap((function(){return e.loaded.emit(t)}))),a=i.fromEvent(r,"error").pipe(n.tap((function(){return e.error.emit(new Error("[lazyImage]: The image "+t+" did not load"))})));return i.zip(o,a)},t}();Y.decorators=[{type:e.Directive,args:[{selector:"[lazyImage]"}]}],Y.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[a.DOCUMENT]}]}]},Y.propDecorators={src:[{type:e.Input,args:["lazyImage"]}],loaded:[{type:e.Output}],error:[{type:e.Output}]};var W=function(){function t(t){this._el=t,this.clickListener=i.Subscription.EMPTY,this.tapClick=new e.EventEmitter}return t.prototype.ngOnInit=function(){this.activateClickEvent()},t.prototype.activateClickEvent=function(){var t=this;"undefined"!=typeof Hammer?(this._hammer=new Hammer(this._el.nativeElement),this._hammer.on("tap",(function(){t.tapClickDisabled||t.tapClick.emit(null)}))):this.clickListener=i.fromEvent(this._el.nativeElement,"click").pipe(n.filter((function(){return!t.tapClickDisabled})),n.tap((function(){return t.tapClick.emit(null)}))).subscribe()},t.prototype.ngOnDestroy=function(){this._hammer&&this._hammer.destroy(),this.clickListener.unsubscribe()},t}();W.decorators=[{type:e.Directive,args:[{selector:"[tapClick]"}]}],W.ctorParameters=function(){return[{type:e.ElementRef}]},W.propDecorators={tapClickDisabled:[{type:e.Input}],tapClick:[{type:e.Output}]};var B=function(){function t(){}return t.withConfig=function(e){return{ngModule:t,providers:[{provide:T,useValue:e}]}},t}();B.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule],declarations:[D,j,R,A,M,$,L,G,N,z,H,k,Y,W],exports:[D,Y,W]}]}],t.GALLERY_CONFIG=T,t.Gallery=w,t.GalleryComponent=D,t.GalleryIframeComponent=k,t.GalleryImageComponent=z,t.GalleryModule=B,t.GalleryRef=E,t.GalleryVideoComponent=H,t.IframeItem=C,t.ImageItem=x,t.VideoItem=S,t.YoutubeItem=_,t.ɵ0=O,t.ɵa=j,t.ɵb=R,t.ɵc=A,t.ɵd=M,t.ɵe=$,t.ɵf=L,t.ɵg=G,t.ɵh=N,t.ɵi=Y,t.ɵj=W,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-gallery.umd.min.js.map